<html>
<head>
<meta name="viewport" content="width=device-width">
<meta charset="UTF-8">
<script type="text/javascript" charset="utf-8"><!--
/*!
@fileoverview gl-matrix - High performance matrix and vector operations
@author Brandon Jones
@author Colin MacKenzie IV
@version 2.7.0

Copyright (c) 2015-2018, Brandon Jones, Colin MacKenzie IV.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
!function(t,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var r=n();for(var a in r)("object"==typeof exports?exports:t)[a]=r[a]}}("undefined"!=typeof self?self:this,function(){return function(t){var n={};function r(a){if(n[a])return n[a].exports;var e=n[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,r),e.l=!0,e.exports}return r.m=t,r.c=n,r.d=function(t,n,a){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:a})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var e in t)r.d(a,e,function(n){return t[n]}.bind(null,e));return a},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="",r(r.s=10)}([function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setMatrixArrayType=function(t){n.ARRAY_TYPE=t},n.toRadian=function(t){return t*e},n.equals=function(t,n){return Math.abs(t-n)<=a*Math.max(1,Math.abs(t),Math.abs(n))};var a=n.EPSILON=1e-6;n.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,n.RANDOM=Math.random;var e=Math.PI/180},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.forEach=n.sqrLen=n.len=n.sqrDist=n.dist=n.div=n.mul=n.sub=void 0,n.create=e,n.clone=function(t){var n=new a.ARRAY_TYPE(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n},n.fromValues=function(t,n,r,e){var u=new a.ARRAY_TYPE(4);return u[0]=t,u[1]=n,u[2]=r,u[3]=e,u},n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t},n.set=function(t,n,r,a,e){return t[0]=n,t[1]=r,t[2]=a,t[3]=e,t},n.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t},n.subtract=u,n.multiply=o,n.divide=i,n.ceil=function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t[3]=Math.ceil(n[3]),t},n.floor=function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t[3]=Math.floor(n[3]),t},n.min=function(t,n,r){return t[0]=Math.min(n[0],r[0]),t[1]=Math.min(n[1],r[1]),t[2]=Math.min(n[2],r[2]),t[3]=Math.min(n[3],r[3]),t},n.max=function(t,n,r){return t[0]=Math.max(n[0],r[0]),t[1]=Math.max(n[1],r[1]),t[2]=Math.max(n[2],r[2]),t[3]=Math.max(n[3],r[3]),t},n.round=function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t[3]=Math.round(n[3]),t},n.scale=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t},n.scaleAndAdd=function(t,n,r,a){return t[0]=n[0]+r[0]*a,t[1]=n[1]+r[1]*a,t[2]=n[2]+r[2]*a,t[3]=n[3]+r[3]*a,t},n.distance=s,n.squaredDistance=c,n.length=f,n.squaredLength=M,n.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t},n.inverse=function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t[3]=1/n[3],t},n.normalize=function(t,n){var r=n[0],a=n[1],e=n[2],u=n[3],o=r*r+a*a+e*e+u*u;o>0&&(o=1/Math.sqrt(o),t[0]=r*o,t[1]=a*o,t[2]=e*o,t[3]=u*o);return t},n.dot=function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]},n.lerp=function(t,n,r,a){var e=n[0],u=n[1],o=n[2],i=n[3];return t[0]=e+a*(r[0]-e),t[1]=u+a*(r[1]-u),t[2]=o+a*(r[2]-o),t[3]=i+a*(r[3]-i),t},n.random=function(t,n){var r,e,u,o,i,s;n=n||1;do{r=2*a.RANDOM()-1,e=2*a.RANDOM()-1,i=r*r+e*e}while(i>=1);do{u=2*a.RANDOM()-1,o=2*a.RANDOM()-1,s=u*u+o*o}while(s>=1);var c=Math.sqrt((1-i)/s);return t[0]=n*r,t[1]=n*e,t[2]=n*u*c,t[3]=n*o*c,t},n.transformMat4=function(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3];return t[0]=r[0]*a+r[4]*e+r[8]*u+r[12]*o,t[1]=r[1]*a+r[5]*e+r[9]*u+r[13]*o,t[2]=r[2]*a+r[6]*e+r[10]*u+r[14]*o,t[3]=r[3]*a+r[7]*e+r[11]*u+r[15]*o,t},n.transformQuat=function(t,n,r){var a=n[0],e=n[1],u=n[2],o=r[0],i=r[1],s=r[2],c=r[3],f=c*a+i*u-s*e,M=c*e+s*a-o*u,h=c*u+o*e-i*a,l=-o*a-i*e-s*u;return t[0]=f*c+l*-o+M*-s-h*-i,t[1]=M*c+l*-i+h*-o-f*-s,t[2]=h*c+l*-s+f*-i-M*-o,t[3]=n[3],t},n.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]},n.equals=function(t,n){var r=t[0],e=t[1],u=t[2],o=t[3],i=n[0],s=n[1],c=n[2],f=n[3];return Math.abs(r-i)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(e-s)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(u-c)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(c))&&Math.abs(o-f)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))};var a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}(r(0));function e(){var t=new a.ARRAY_TYPE(4);return a.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function u(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t}function o(t,n,r){return t[0]=n[0]*r[0],t[1]=n[1]*r[1],t[2]=n[2]*r[2],t[3]=n[3]*r[3],t}function i(t,n,r){return t[0]=n[0]/r[0],t[1]=n[1]/r[1],t[2]=n[2]/r[2],t[3]=n[3]/r[3],t}function s(t,n){var r=n[0]-t[0],a=n[1]-t[1],e=n[2]-t[2],u=n[3]-t[3];return Math.sqrt(r*r+a*a+e*e+u*u)}function c(t,n){var r=n[0]-t[0],a=n[1]-t[1],e=n[2]-t[2],u=n[3]-t[3];return r*r+a*a+e*e+u*u}function f(t){var n=t[0],r=t[1],a=t[2],e=t[3];return Math.sqrt(n*n+r*r+a*a+e*e)}function M(t){var n=t[0],r=t[1],a=t[2],e=t[3];return n*n+r*r+a*a+e*e}n.sub=u,n.mul=o,n.div=i,n.dist=s,n.sqrDist=c,n.len=f,n.sqrLen=M,n.forEach=function(){var t=e();return function(n,r,a,e,u,o){var i=void 0,s=void 0;for(r||(r=4),a||(a=0),s=e?Math.min(e*r+a,n.length):n.length,i=a;i<s;i+=r)t[0]=n[i],t[1]=n[i+1],t[2]=n[i+2],t[3]=n[i+3],u(t,t,o),n[i]=t[0],n[i+1]=t[1],n[i+2]=t[2],n[i+3]=t[3];return n}}()},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.forEach=n.sqrLen=n.len=n.sqrDist=n.dist=n.div=n.mul=n.sub=void 0,n.create=e,n.clone=function(t){var n=new a.ARRAY_TYPE(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n},n.length=u,n.fromValues=o,n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t},n.set=function(t,n,r,a){return t[0]=n,t[1]=r,t[2]=a,t},n.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t},n.subtract=i,n.multiply=s,n.divide=c,n.ceil=function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t},n.floor=function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t},n.min=function(t,n,r){return t[0]=Math.min(n[0],r[0]),t[1]=Math.min(n[1],r[1]),t[2]=Math.min(n[2],r[2]),t},n.max=function(t,n,r){return t[0]=Math.max(n[0],r[0]),t[1]=Math.max(n[1],r[1]),t[2]=Math.max(n[2],r[2]),t},n.round=function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t},n.scale=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t},n.scaleAndAdd=function(t,n,r,a){return t[0]=n[0]+r[0]*a,t[1]=n[1]+r[1]*a,t[2]=n[2]+r[2]*a,t},n.distance=f,n.squaredDistance=M,n.squaredLength=h,n.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t},n.inverse=function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t},n.normalize=l,n.dot=v,n.cross=function(t,n,r){var a=n[0],e=n[1],u=n[2],o=r[0],i=r[1],s=r[2];return t[0]=e*s-u*i,t[1]=u*o-a*s,t[2]=a*i-e*o,t},n.lerp=function(t,n,r,a){var e=n[0],u=n[1],o=n[2];return t[0]=e+a*(r[0]-e),t[1]=u+a*(r[1]-u),t[2]=o+a*(r[2]-o),t},n.hermite=function(t,n,r,a,e,u){var o=u*u,i=o*(2*u-3)+1,s=o*(u-2)+u,c=o*(u-1),f=o*(3-2*u);return t[0]=n[0]*i+r[0]*s+a[0]*c+e[0]*f,t[1]=n[1]*i+r[1]*s+a[1]*c+e[1]*f,t[2]=n[2]*i+r[2]*s+a[2]*c+e[2]*f,t},n.bezier=function(t,n,r,a,e,u){var o=1-u,i=o*o,s=u*u,c=i*o,f=3*u*i,M=3*s*o,h=s*u;return t[0]=n[0]*c+r[0]*f+a[0]*M+e[0]*h,t[1]=n[1]*c+r[1]*f+a[1]*M+e[1]*h,t[2]=n[2]*c+r[2]*f+a[2]*M+e[2]*h,t},n.random=function(t,n){n=n||1;var r=2*a.RANDOM()*Math.PI,e=2*a.RANDOM()-1,u=Math.sqrt(1-e*e)*n;return t[0]=Math.cos(r)*u,t[1]=Math.sin(r)*u,t[2]=e*n,t},n.transformMat4=function(t,n,r){var a=n[0],e=n[1],u=n[2],o=r[3]*a+r[7]*e+r[11]*u+r[15];return o=o||1,t[0]=(r[0]*a+r[4]*e+r[8]*u+r[12])/o,t[1]=(r[1]*a+r[5]*e+r[9]*u+r[13])/o,t[2]=(r[2]*a+r[6]*e+r[10]*u+r[14])/o,t},n.transformMat3=function(t,n,r){var a=n[0],e=n[1],u=n[2];return t[0]=a*r[0]+e*r[3]+u*r[6],t[1]=a*r[1]+e*r[4]+u*r[7],t[2]=a*r[2]+e*r[5]+u*r[8],t},n.transformQuat=function(t,n,r){var a=r[0],e=r[1],u=r[2],o=r[3],i=n[0],s=n[1],c=n[2],f=e*c-u*s,M=u*i-a*c,h=a*s-e*i,l=e*h-u*M,v=u*f-a*h,d=a*M-e*f,b=2*o;return f*=b,M*=b,h*=b,l*=2,v*=2,d*=2,t[0]=i+f+l,t[1]=s+M+v,t[2]=c+h+d,t},n.rotateX=function(t,n,r,a){var e=[],u=[];return e[0]=n[0]-r[0],e[1]=n[1]-r[1],e[2]=n[2]-r[2],u[0]=e[0],u[1]=e[1]*Math.cos(a)-e[2]*Math.sin(a),u[2]=e[1]*Math.sin(a)+e[2]*Math.cos(a),t[0]=u[0]+r[0],t[1]=u[1]+r[1],t[2]=u[2]+r[2],t},n.rotateY=function(t,n,r,a){var e=[],u=[];return e[0]=n[0]-r[0],e[1]=n[1]-r[1],e[2]=n[2]-r[2],u[0]=e[2]*Math.sin(a)+e[0]*Math.cos(a),u[1]=e[1],u[2]=e[2]*Math.cos(a)-e[0]*Math.sin(a),t[0]=u[0]+r[0],t[1]=u[1]+r[1],t[2]=u[2]+r[2],t},n.rotateZ=function(t,n,r,a){var e=[],u=[];return e[0]=n[0]-r[0],e[1]=n[1]-r[1],e[2]=n[2]-r[2],u[0]=e[0]*Math.cos(a)-e[1]*Math.sin(a),u[1]=e[0]*Math.sin(a)+e[1]*Math.cos(a),u[2]=e[2],t[0]=u[0]+r[0],t[1]=u[1]+r[1],t[2]=u[2]+r[2],t},n.angle=function(t,n){var r=o(t[0],t[1],t[2]),a=o(n[0],n[1],n[2]);l(r,r),l(a,a);var e=v(r,a);return e>1?0:e<-1?Math.PI:Math.acos(e)},n.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]},n.equals=function(t,n){var r=t[0],e=t[1],u=t[2],o=n[0],i=n[1],s=n[2];return Math.abs(r-o)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(e-i)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(u-s)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(s))};var a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}(r(0));function e(){var t=new a.ARRAY_TYPE(3);return a.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function u(t){var n=t[0],r=t[1],a=t[2];return Math.sqrt(n*n+r*r+a*a)}function o(t,n,r){var e=new a.ARRAY_TYPE(3);return e[0]=t,e[1]=n,e[2]=r,e}function i(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t}function s(t,n,r){return t[0]=n[0]*r[0],t[1]=n[1]*r[1],t[2]=n[2]*r[2],t}function c(t,n,r){return t[0]=n[0]/r[0],t[1]=n[1]/r[1],t[2]=n[2]/r[2],t}function f(t,n){var r=n[0]-t[0],a=n[1]-t[1],e=n[2]-t[2];return Math.sqrt(r*r+a*a+e*e)}function M(t,n){var r=n[0]-t[0],a=n[1]-t[1],e=n[2]-t[2];return r*r+a*a+e*e}function h(t){var n=t[0],r=t[1],a=t[2];return n*n+r*r+a*a}function l(t,n){var r=n[0],a=n[1],e=n[2],u=r*r+a*a+e*e;return u>0&&(u=1/Math.sqrt(u),t[0]=n[0]*u,t[1]=n[1]*u,t[2]=n[2]*u),t}function v(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}n.sub=i,n.mul=s,n.div=c,n.dist=f,n.sqrDist=M,n.len=u,n.sqrLen=h,n.forEach=function(){var t=e();return function(n,r,a,e,u,o){var i=void 0,s=void 0;for(r||(r=3),a||(a=0),s=e?Math.min(e*r+a,n.length):n.length,i=a;i<s;i+=r)t[0]=n[i],t[1]=n[i+1],t[2]=n[i+2],u(t,t,o),n[i]=t[0],n[i+1]=t[1],n[i+2]=t[2];return n}}()},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setAxes=n.sqlerp=n.rotationTo=n.equals=n.exactEquals=n.normalize=n.sqrLen=n.squaredLength=n.len=n.length=n.lerp=n.dot=n.scale=n.mul=n.add=n.set=n.copy=n.fromValues=n.clone=void 0,n.create=s,n.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},n.setAxisAngle=c,n.getAxisAngle=function(t,n){var r=2*Math.acos(n[3]),e=Math.sin(r/2);e>a.EPSILON?(t[0]=n[0]/e,t[1]=n[1]/e,t[2]=n[2]/e):(t[0]=1,t[1]=0,t[2]=0);return r},n.multiply=f,n.rotateX=function(t,n,r){r*=.5;var a=n[0],e=n[1],u=n[2],o=n[3],i=Math.sin(r),s=Math.cos(r);return t[0]=a*s+o*i,t[1]=e*s+u*i,t[2]=u*s-e*i,t[3]=o*s-a*i,t},n.rotateY=function(t,n,r){r*=.5;var a=n[0],e=n[1],u=n[2],o=n[3],i=Math.sin(r),s=Math.cos(r);return t[0]=a*s-u*i,t[1]=e*s+o*i,t[2]=u*s+a*i,t[3]=o*s-e*i,t},n.rotateZ=function(t,n,r){r*=.5;var a=n[0],e=n[1],u=n[2],o=n[3],i=Math.sin(r),s=Math.cos(r);return t[0]=a*s+e*i,t[1]=e*s-a*i,t[2]=u*s+o*i,t[3]=o*s-u*i,t},n.calculateW=function(t,n){var r=n[0],a=n[1],e=n[2];return t[0]=r,t[1]=a,t[2]=e,t[3]=Math.sqrt(Math.abs(1-r*r-a*a-e*e)),t},n.slerp=M,n.random=function(t){var n=a.RANDOM(),r=a.RANDOM(),e=a.RANDOM(),u=Math.sqrt(1-n),o=Math.sqrt(n);return t[0]=u*Math.sin(2*Math.PI*r),t[1]=u*Math.cos(2*Math.PI*r),t[2]=o*Math.sin(2*Math.PI*e),t[3]=o*Math.cos(2*Math.PI*e),t},n.invert=function(t,n){var r=n[0],a=n[1],e=n[2],u=n[3],o=r*r+a*a+e*e+u*u,i=o?1/o:0;return t[0]=-r*i,t[1]=-a*i,t[2]=-e*i,t[3]=u*i,t},n.conjugate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t},n.fromMat3=h,n.fromEuler=function(t,n,r,a){var e=.5*Math.PI/180;n*=e,r*=e,a*=e;var u=Math.sin(n),o=Math.cos(n),i=Math.sin(r),s=Math.cos(r),c=Math.sin(a),f=Math.cos(a);return t[0]=u*s*f-o*i*c,t[1]=o*i*f+u*s*c,t[2]=o*s*c-u*i*f,t[3]=o*s*f+u*i*c,t},n.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"};var a=i(r(0)),e=i(r(5)),u=i(r(2)),o=i(r(1));function i(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}function s(){var t=new a.ARRAY_TYPE(4);return a.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function c(t,n,r){r*=.5;var a=Math.sin(r);return t[0]=a*n[0],t[1]=a*n[1],t[2]=a*n[2],t[3]=Math.cos(r),t}function f(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3],i=r[0],s=r[1],c=r[2],f=r[3];return t[0]=a*f+o*i+e*c-u*s,t[1]=e*f+o*s+u*i-a*c,t[2]=u*f+o*c+a*s-e*i,t[3]=o*f-a*i-e*s-u*c,t}function M(t,n,r,e){var u=n[0],o=n[1],i=n[2],s=n[3],c=r[0],f=r[1],M=r[2],h=r[3],l=void 0,v=void 0,d=void 0,b=void 0,m=void 0;return(v=u*c+o*f+i*M+s*h)<0&&(v=-v,c=-c,f=-f,M=-M,h=-h),1-v>a.EPSILON?(l=Math.acos(v),d=Math.sin(l),b=Math.sin((1-e)*l)/d,m=Math.sin(e*l)/d):(b=1-e,m=e),t[0]=b*u+m*c,t[1]=b*o+m*f,t[2]=b*i+m*M,t[3]=b*s+m*h,t}function h(t,n){var r=n[0]+n[4]+n[8],a=void 0;if(r>0)a=Math.sqrt(r+1),t[3]=.5*a,a=.5/a,t[0]=(n[5]-n[7])*a,t[1]=(n[6]-n[2])*a,t[2]=(n[1]-n[3])*a;else{var e=0;n[4]>n[0]&&(e=1),n[8]>n[3*e+e]&&(e=2);var u=(e+1)%3,o=(e+2)%3;a=Math.sqrt(n[3*e+e]-n[3*u+u]-n[3*o+o]+1),t[e]=.5*a,a=.5/a,t[3]=(n[3*u+o]-n[3*o+u])*a,t[u]=(n[3*u+e]+n[3*e+u])*a,t[o]=(n[3*o+e]+n[3*e+o])*a}return t}n.clone=o.clone,n.fromValues=o.fromValues,n.copy=o.copy,n.set=o.set,n.add=o.add,n.mul=f,n.scale=o.scale,n.dot=o.dot,n.lerp=o.lerp;var l=n.length=o.length,v=(n.len=l,n.squaredLength=o.squaredLength),d=(n.sqrLen=v,n.normalize=o.normalize);n.exactEquals=o.exactEquals,n.equals=o.equals,n.rotationTo=function(){var t=u.create(),n=u.fromValues(1,0,0),r=u.fromValues(0,1,0);return function(a,e,o){var i=u.dot(e,o);return i<-.999999?(u.cross(t,n,e),u.len(t)<1e-6&&u.cross(t,r,e),u.normalize(t,t),c(a,t,Math.PI),a):i>.999999?(a[0]=0,a[1]=0,a[2]=0,a[3]=1,a):(u.cross(t,e,o),a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=1+i,d(a,a))}}(),n.sqlerp=function(){var t=s(),n=s();return function(r,a,e,u,o,i){return M(t,a,o,i),M(n,e,u,i),M(r,t,n,2*i*(1-i)),r}}(),n.setAxes=function(){var t=e.create();return function(n,r,a,e){return t[0]=a[0],t[3]=a[1],t[6]=a[2],t[1]=e[0],t[4]=e[1],t[7]=e[2],t[2]=-r[0],t[5]=-r[1],t[8]=-r[2],d(n,h(n,t))}}()},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.sub=n.mul=void 0,n.create=function(){var t=new a.ARRAY_TYPE(16);a.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0);return t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},n.clone=function(t){var n=new a.ARRAY_TYPE(16);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n},n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t},n.fromValues=function(t,n,r,e,u,o,i,s,c,f,M,h,l,v,d,b){var m=new a.ARRAY_TYPE(16);return m[0]=t,m[1]=n,m[2]=r,m[3]=e,m[4]=u,m[5]=o,m[6]=i,m[7]=s,m[8]=c,m[9]=f,m[10]=M,m[11]=h,m[12]=l,m[13]=v,m[14]=d,m[15]=b,m},n.set=function(t,n,r,a,e,u,o,i,s,c,f,M,h,l,v,d,b){return t[0]=n,t[1]=r,t[2]=a,t[3]=e,t[4]=u,t[5]=o,t[6]=i,t[7]=s,t[8]=c,t[9]=f,t[10]=M,t[11]=h,t[12]=l,t[13]=v,t[14]=d,t[15]=b,t},n.identity=e,n.transpose=function(t,n){if(t===n){var r=n[1],a=n[2],e=n[3],u=n[6],o=n[7],i=n[11];t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=r,t[6]=n[9],t[7]=n[13],t[8]=a,t[9]=u,t[11]=n[14],t[12]=e,t[13]=o,t[14]=i}else t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15];return t},n.invert=function(t,n){var r=n[0],a=n[1],e=n[2],u=n[3],o=n[4],i=n[5],s=n[6],c=n[7],f=n[8],M=n[9],h=n[10],l=n[11],v=n[12],d=n[13],b=n[14],m=n[15],p=r*i-a*o,P=r*s-e*o,A=r*c-u*o,E=a*s-e*i,O=a*c-u*i,R=e*c-u*s,y=f*d-M*v,q=f*b-h*v,x=f*m-l*v,_=M*b-h*d,Y=M*m-l*d,L=h*m-l*b,S=p*L-P*Y+A*_+E*x-O*q+R*y;if(!S)return null;return S=1/S,t[0]=(i*L-s*Y+c*_)*S,t[1]=(e*Y-a*L-u*_)*S,t[2]=(d*R-b*O+m*E)*S,t[3]=(h*O-M*R-l*E)*S,t[4]=(s*x-o*L-c*q)*S,t[5]=(r*L-e*x+u*q)*S,t[6]=(b*A-v*R-m*P)*S,t[7]=(f*R-h*A+l*P)*S,t[8]=(o*Y-i*x+c*y)*S,t[9]=(a*x-r*Y-u*y)*S,t[10]=(v*O-d*A+m*p)*S,t[11]=(M*A-f*O-l*p)*S,t[12]=(i*q-o*_-s*y)*S,t[13]=(r*_-a*q+e*y)*S,t[14]=(d*P-v*E-b*p)*S,t[15]=(f*E-M*P+h*p)*S,t},n.adjoint=function(t,n){var r=n[0],a=n[1],e=n[2],u=n[3],o=n[4],i=n[5],s=n[6],c=n[7],f=n[8],M=n[9],h=n[10],l=n[11],v=n[12],d=n[13],b=n[14],m=n[15];return t[0]=i*(h*m-l*b)-M*(s*m-c*b)+d*(s*l-c*h),t[1]=-(a*(h*m-l*b)-M*(e*m-u*b)+d*(e*l-u*h)),t[2]=a*(s*m-c*b)-i*(e*m-u*b)+d*(e*c-u*s),t[3]=-(a*(s*l-c*h)-i*(e*l-u*h)+M*(e*c-u*s)),t[4]=-(o*(h*m-l*b)-f*(s*m-c*b)+v*(s*l-c*h)),t[5]=r*(h*m-l*b)-f*(e*m-u*b)+v*(e*l-u*h),t[6]=-(r*(s*m-c*b)-o*(e*m-u*b)+v*(e*c-u*s)),t[7]=r*(s*l-c*h)-o*(e*l-u*h)+f*(e*c-u*s),t[8]=o*(M*m-l*d)-f*(i*m-c*d)+v*(i*l-c*M),t[9]=-(r*(M*m-l*d)-f*(a*m-u*d)+v*(a*l-u*M)),t[10]=r*(i*m-c*d)-o*(a*m-u*d)+v*(a*c-u*i),t[11]=-(r*(i*l-c*M)-o*(a*l-u*M)+f*(a*c-u*i)),t[12]=-(o*(M*b-h*d)-f*(i*b-s*d)+v*(i*h-s*M)),t[13]=r*(M*b-h*d)-f*(a*b-e*d)+v*(a*h-e*M),t[14]=-(r*(i*b-s*d)-o*(a*b-e*d)+v*(a*s-e*i)),t[15]=r*(i*h-s*M)-o*(a*h-e*M)+f*(a*s-e*i),t},n.determinant=function(t){var n=t[0],r=t[1],a=t[2],e=t[3],u=t[4],o=t[5],i=t[6],s=t[7],c=t[8],f=t[9],M=t[10],h=t[11],l=t[12],v=t[13],d=t[14],b=t[15];return(n*o-r*u)*(M*b-h*d)-(n*i-a*u)*(f*b-h*v)+(n*s-e*u)*(f*d-M*v)+(r*i-a*o)*(c*b-h*l)-(r*s-e*o)*(c*d-M*l)+(a*s-e*i)*(c*v-f*l)},n.multiply=u,n.translate=function(t,n,r){var a=r[0],e=r[1],u=r[2],o=void 0,i=void 0,s=void 0,c=void 0,f=void 0,M=void 0,h=void 0,l=void 0,v=void 0,d=void 0,b=void 0,m=void 0;n===t?(t[12]=n[0]*a+n[4]*e+n[8]*u+n[12],t[13]=n[1]*a+n[5]*e+n[9]*u+n[13],t[14]=n[2]*a+n[6]*e+n[10]*u+n[14],t[15]=n[3]*a+n[7]*e+n[11]*u+n[15]):(o=n[0],i=n[1],s=n[2],c=n[3],f=n[4],M=n[5],h=n[6],l=n[7],v=n[8],d=n[9],b=n[10],m=n[11],t[0]=o,t[1]=i,t[2]=s,t[3]=c,t[4]=f,t[5]=M,t[6]=h,t[7]=l,t[8]=v,t[9]=d,t[10]=b,t[11]=m,t[12]=o*a+f*e+v*u+n[12],t[13]=i*a+M*e+d*u+n[13],t[14]=s*a+h*e+b*u+n[14],t[15]=c*a+l*e+m*u+n[15]);return t},n.scale=function(t,n,r){var a=r[0],e=r[1],u=r[2];return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t[4]=n[4]*e,t[5]=n[5]*e,t[6]=n[6]*e,t[7]=n[7]*e,t[8]=n[8]*u,t[9]=n[9]*u,t[10]=n[10]*u,t[11]=n[11]*u,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t},n.rotate=function(t,n,r,e){var u=e[0],o=e[1],i=e[2],s=Math.sqrt(u*u+o*o+i*i),c=void 0,f=void 0,M=void 0,h=void 0,l=void 0,v=void 0,d=void 0,b=void 0,m=void 0,p=void 0,P=void 0,A=void 0,E=void 0,O=void 0,R=void 0,y=void 0,q=void 0,x=void 0,_=void 0,Y=void 0,L=void 0,S=void 0,w=void 0,I=void 0;if(s<a.EPSILON)return null;u*=s=1/s,o*=s,i*=s,c=Math.sin(r),f=Math.cos(r),M=1-f,h=n[0],l=n[1],v=n[2],d=n[3],b=n[4],m=n[5],p=n[6],P=n[7],A=n[8],E=n[9],O=n[10],R=n[11],y=u*u*M+f,q=o*u*M+i*c,x=i*u*M-o*c,_=u*o*M-i*c,Y=o*o*M+f,L=i*o*M+u*c,S=u*i*M+o*c,w=o*i*M-u*c,I=i*i*M+f,t[0]=h*y+b*q+A*x,t[1]=l*y+m*q+E*x,t[2]=v*y+p*q+O*x,t[3]=d*y+P*q+R*x,t[4]=h*_+b*Y+A*L,t[5]=l*_+m*Y+E*L,t[6]=v*_+p*Y+O*L,t[7]=d*_+P*Y+R*L,t[8]=h*S+b*w+A*I,t[9]=l*S+m*w+E*I,t[10]=v*S+p*w+O*I,t[11]=d*S+P*w+R*I,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]);return t},n.rotateX=function(t,n,r){var a=Math.sin(r),e=Math.cos(r),u=n[4],o=n[5],i=n[6],s=n[7],c=n[8],f=n[9],M=n[10],h=n[11];n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]);return t[4]=u*e+c*a,t[5]=o*e+f*a,t[6]=i*e+M*a,t[7]=s*e+h*a,t[8]=c*e-u*a,t[9]=f*e-o*a,t[10]=M*e-i*a,t[11]=h*e-s*a,t},n.rotateY=function(t,n,r){var a=Math.sin(r),e=Math.cos(r),u=n[0],o=n[1],i=n[2],s=n[3],c=n[8],f=n[9],M=n[10],h=n[11];n!==t&&(t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]);return t[0]=u*e-c*a,t[1]=o*e-f*a,t[2]=i*e-M*a,t[3]=s*e-h*a,t[8]=u*a+c*e,t[9]=o*a+f*e,t[10]=i*a+M*e,t[11]=s*a+h*e,t},n.rotateZ=function(t,n,r){var a=Math.sin(r),e=Math.cos(r),u=n[0],o=n[1],i=n[2],s=n[3],c=n[4],f=n[5],M=n[6],h=n[7];n!==t&&(t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]);return t[0]=u*e+c*a,t[1]=o*e+f*a,t[2]=i*e+M*a,t[3]=s*e+h*a,t[4]=c*e-u*a,t[5]=f*e-o*a,t[6]=M*e-i*a,t[7]=h*e-s*a,t},n.fromTranslation=function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},n.fromScaling=function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromRotation=function(t,n,r){var e=r[0],u=r[1],o=r[2],i=Math.sqrt(e*e+u*u+o*o),s=void 0,c=void 0,f=void 0;if(i<a.EPSILON)return null;return e*=i=1/i,u*=i,o*=i,s=Math.sin(n),c=Math.cos(n),f=1-c,t[0]=e*e*f+c,t[1]=u*e*f+o*s,t[2]=o*e*f-u*s,t[3]=0,t[4]=e*u*f-o*s,t[5]=u*u*f+c,t[6]=o*u*f+e*s,t[7]=0,t[8]=e*o*f+u*s,t[9]=u*o*f-e*s,t[10]=o*o*f+c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromXRotation=function(t,n){var r=Math.sin(n),a=Math.cos(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromYRotation=function(t,n){var r=Math.sin(n),a=Math.cos(n);return t[0]=a,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromZRotation=function(t,n){var r=Math.sin(n),a=Math.cos(n);return t[0]=a,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromRotationTranslation=o,n.fromQuat2=function(t,n){var r=new a.ARRAY_TYPE(3),e=-n[0],u=-n[1],i=-n[2],s=n[3],c=n[4],f=n[5],M=n[6],h=n[7],l=e*e+u*u+i*i+s*s;l>0?(r[0]=2*(c*s+h*e+f*i-M*u)/l,r[1]=2*(f*s+h*u+M*e-c*i)/l,r[2]=2*(M*s+h*i+c*u-f*e)/l):(r[0]=2*(c*s+h*e+f*i-M*u),r[1]=2*(f*s+h*u+M*e-c*i),r[2]=2*(M*s+h*i+c*u-f*e));return o(t,n,r),t},n.getTranslation=function(t,n){return t[0]=n[12],t[1]=n[13],t[2]=n[14],t},n.getScaling=function(t,n){var r=n[0],a=n[1],e=n[2],u=n[4],o=n[5],i=n[6],s=n[8],c=n[9],f=n[10];return t[0]=Math.sqrt(r*r+a*a+e*e),t[1]=Math.sqrt(u*u+o*o+i*i),t[2]=Math.sqrt(s*s+c*c+f*f),t},n.getRotation=function(t,n){var r=n[0]+n[5]+n[10],a=0;r>0?(a=2*Math.sqrt(r+1),t[3]=.25*a,t[0]=(n[6]-n[9])/a,t[1]=(n[8]-n[2])/a,t[2]=(n[1]-n[4])/a):n[0]>n[5]&&n[0]>n[10]?(a=2*Math.sqrt(1+n[0]-n[5]-n[10]),t[3]=(n[6]-n[9])/a,t[0]=.25*a,t[1]=(n[1]+n[4])/a,t[2]=(n[8]+n[2])/a):n[5]>n[10]?(a=2*Math.sqrt(1+n[5]-n[0]-n[10]),t[3]=(n[8]-n[2])/a,t[0]=(n[1]+n[4])/a,t[1]=.25*a,t[2]=(n[6]+n[9])/a):(a=2*Math.sqrt(1+n[10]-n[0]-n[5]),t[3]=(n[1]-n[4])/a,t[0]=(n[8]+n[2])/a,t[1]=(n[6]+n[9])/a,t[2]=.25*a);return t},n.fromRotationTranslationScale=function(t,n,r,a){var e=n[0],u=n[1],o=n[2],i=n[3],s=e+e,c=u+u,f=o+o,M=e*s,h=e*c,l=e*f,v=u*c,d=u*f,b=o*f,m=i*s,p=i*c,P=i*f,A=a[0],E=a[1],O=a[2];return t[0]=(1-(v+b))*A,t[1]=(h+P)*A,t[2]=(l-p)*A,t[3]=0,t[4]=(h-P)*E,t[5]=(1-(M+b))*E,t[6]=(d+m)*E,t[7]=0,t[8]=(l+p)*O,t[9]=(d-m)*O,t[10]=(1-(M+v))*O,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},n.fromRotationTranslationScaleOrigin=function(t,n,r,a,e){var u=n[0],o=n[1],i=n[2],s=n[3],c=u+u,f=o+o,M=i+i,h=u*c,l=u*f,v=u*M,d=o*f,b=o*M,m=i*M,p=s*c,P=s*f,A=s*M,E=a[0],O=a[1],R=a[2],y=e[0],q=e[1],x=e[2],_=(1-(d+m))*E,Y=(l+A)*E,L=(v-P)*E,S=(l-A)*O,w=(1-(h+m))*O,I=(b+p)*O,N=(v+P)*R,g=(b-p)*R,T=(1-(h+d))*R;return t[0]=_,t[1]=Y,t[2]=L,t[3]=0,t[4]=S,t[5]=w,t[6]=I,t[7]=0,t[8]=N,t[9]=g,t[10]=T,t[11]=0,t[12]=r[0]+y-(_*y+S*q+N*x),t[13]=r[1]+q-(Y*y+w*q+g*x),t[14]=r[2]+x-(L*y+I*q+T*x),t[15]=1,t},n.fromQuat=function(t,n){var r=n[0],a=n[1],e=n[2],u=n[3],o=r+r,i=a+a,s=e+e,c=r*o,f=a*o,M=a*i,h=e*o,l=e*i,v=e*s,d=u*o,b=u*i,m=u*s;return t[0]=1-M-v,t[1]=f+m,t[2]=h-b,t[3]=0,t[4]=f-m,t[5]=1-c-v,t[6]=l+d,t[7]=0,t[8]=h+b,t[9]=l-d,t[10]=1-c-M,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.frustum=function(t,n,r,a,e,u,o){var i=1/(r-n),s=1/(e-a),c=1/(u-o);return t[0]=2*u*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*u*s,t[6]=0,t[7]=0,t[8]=(r+n)*i,t[9]=(e+a)*s,t[10]=(o+u)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*u*2*c,t[15]=0,t},n.perspective=function(t,n,r,a,e){var u=1/Math.tan(n/2),o=void 0;t[0]=u/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=e&&e!==1/0?(o=1/(a-e),t[10]=(e+a)*o,t[14]=2*e*a*o):(t[10]=-1,t[14]=-2*a);return t},n.perspectiveFromFieldOfView=function(t,n,r,a){var e=Math.tan(n.upDegrees*Math.PI/180),u=Math.tan(n.downDegrees*Math.PI/180),o=Math.tan(n.leftDegrees*Math.PI/180),i=Math.tan(n.rightDegrees*Math.PI/180),s=2/(o+i),c=2/(e+u);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(o-i)*s*.5,t[9]=(e-u)*c*.5,t[10]=a/(r-a),t[11]=-1,t[12]=0,t[13]=0,t[14]=a*r/(r-a),t[15]=0,t},n.ortho=function(t,n,r,a,e,u,o){var i=1/(n-r),s=1/(a-e),c=1/(u-o);return t[0]=-2*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(n+r)*i,t[13]=(e+a)*s,t[14]=(o+u)*c,t[15]=1,t},n.lookAt=function(t,n,r,u){var o=void 0,i=void 0,s=void 0,c=void 0,f=void 0,M=void 0,h=void 0,l=void 0,v=void 0,d=void 0,b=n[0],m=n[1],p=n[2],P=u[0],A=u[1],E=u[2],O=r[0],R=r[1],y=r[2];if(Math.abs(b-O)<a.EPSILON&&Math.abs(m-R)<a.EPSILON&&Math.abs(p-y)<a.EPSILON)return e(t);h=b-O,l=m-R,v=p-y,d=1/Math.sqrt(h*h+l*l+v*v),o=A*(v*=d)-E*(l*=d),i=E*(h*=d)-P*v,s=P*l-A*h,(d=Math.sqrt(o*o+i*i+s*s))?(o*=d=1/d,i*=d,s*=d):(o=0,i=0,s=0);c=l*s-v*i,f=v*o-h*s,M=h*i-l*o,(d=Math.sqrt(c*c+f*f+M*M))?(c*=d=1/d,f*=d,M*=d):(c=0,f=0,M=0);return t[0]=o,t[1]=c,t[2]=h,t[3]=0,t[4]=i,t[5]=f,t[6]=l,t[7]=0,t[8]=s,t[9]=M,t[10]=v,t[11]=0,t[12]=-(o*b+i*m+s*p),t[13]=-(c*b+f*m+M*p),t[14]=-(h*b+l*m+v*p),t[15]=1,t},n.targetTo=function(t,n,r,a){var e=n[0],u=n[1],o=n[2],i=a[0],s=a[1],c=a[2],f=e-r[0],M=u-r[1],h=o-r[2],l=f*f+M*M+h*h;l>0&&(l=1/Math.sqrt(l),f*=l,M*=l,h*=l);var v=s*h-c*M,d=c*f-i*h,b=i*M-s*f;(l=v*v+d*d+b*b)>0&&(l=1/Math.sqrt(l),v*=l,d*=l,b*=l);return t[0]=v,t[1]=d,t[2]=b,t[3]=0,t[4]=M*b-h*d,t[5]=h*v-f*b,t[6]=f*d-M*v,t[7]=0,t[8]=f,t[9]=M,t[10]=h,t[11]=0,t[12]=e,t[13]=u,t[14]=o,t[15]=1,t},n.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},n.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t[4]=n[4]+r[4],t[5]=n[5]+r[5],t[6]=n[6]+r[6],t[7]=n[7]+r[7],t[8]=n[8]+r[8],t[9]=n[9]+r[9],t[10]=n[10]+r[10],t[11]=n[11]+r[11],t[12]=n[12]+r[12],t[13]=n[13]+r[13],t[14]=n[14]+r[14],t[15]=n[15]+r[15],t},n.subtract=i,n.multiplyScalar=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=n[7]*r,t[8]=n[8]*r,t[9]=n[9]*r,t[10]=n[10]*r,t[11]=n[11]*r,t[12]=n[12]*r,t[13]=n[13]*r,t[14]=n[14]*r,t[15]=n[15]*r,t},n.multiplyScalarAndAdd=function(t,n,r,a){return t[0]=n[0]+r[0]*a,t[1]=n[1]+r[1]*a,t[2]=n[2]+r[2]*a,t[3]=n[3]+r[3]*a,t[4]=n[4]+r[4]*a,t[5]=n[5]+r[5]*a,t[6]=n[6]+r[6]*a,t[7]=n[7]+r[7]*a,t[8]=n[8]+r[8]*a,t[9]=n[9]+r[9]*a,t[10]=n[10]+r[10]*a,t[11]=n[11]+r[11]*a,t[12]=n[12]+r[12]*a,t[13]=n[13]+r[13]*a,t[14]=n[14]+r[14]*a,t[15]=n[15]+r[15]*a,t},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]&&t[9]===n[9]&&t[10]===n[10]&&t[11]===n[11]&&t[12]===n[12]&&t[13]===n[13]&&t[14]===n[14]&&t[15]===n[15]},n.equals=function(t,n){var r=t[0],e=t[1],u=t[2],o=t[3],i=t[4],s=t[5],c=t[6],f=t[7],M=t[8],h=t[9],l=t[10],v=t[11],d=t[12],b=t[13],m=t[14],p=t[15],P=n[0],A=n[1],E=n[2],O=n[3],R=n[4],y=n[5],q=n[6],x=n[7],_=n[8],Y=n[9],L=n[10],S=n[11],w=n[12],I=n[13],N=n[14],g=n[15];return Math.abs(r-P)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(P))&&Math.abs(e-A)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(A))&&Math.abs(u-E)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(o-O)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(O))&&Math.abs(i-R)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(R))&&Math.abs(s-y)<=a.EPSILON*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(c-q)<=a.EPSILON*Math.max(1,Math.abs(c),Math.abs(q))&&Math.abs(f-x)<=a.EPSILON*Math.max(1,Math.abs(f),Math.abs(x))&&Math.abs(M-_)<=a.EPSILON*Math.max(1,Math.abs(M),Math.abs(_))&&Math.abs(h-Y)<=a.EPSILON*Math.max(1,Math.abs(h),Math.abs(Y))&&Math.abs(l-L)<=a.EPSILON*Math.max(1,Math.abs(l),Math.abs(L))&&Math.abs(v-S)<=a.EPSILON*Math.max(1,Math.abs(v),Math.abs(S))&&Math.abs(d-w)<=a.EPSILON*Math.max(1,Math.abs(d),Math.abs(w))&&Math.abs(b-I)<=a.EPSILON*Math.max(1,Math.abs(b),Math.abs(I))&&Math.abs(m-N)<=a.EPSILON*Math.max(1,Math.abs(m),Math.abs(N))&&Math.abs(p-g)<=a.EPSILON*Math.max(1,Math.abs(p),Math.abs(g))};var a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}(r(0));function e(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function u(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3],i=n[4],s=n[5],c=n[6],f=n[7],M=n[8],h=n[9],l=n[10],v=n[11],d=n[12],b=n[13],m=n[14],p=n[15],P=r[0],A=r[1],E=r[2],O=r[3];return t[0]=P*a+A*i+E*M+O*d,t[1]=P*e+A*s+E*h+O*b,t[2]=P*u+A*c+E*l+O*m,t[3]=P*o+A*f+E*v+O*p,P=r[4],A=r[5],E=r[6],O=r[7],t[4]=P*a+A*i+E*M+O*d,t[5]=P*e+A*s+E*h+O*b,t[6]=P*u+A*c+E*l+O*m,t[7]=P*o+A*f+E*v+O*p,P=r[8],A=r[9],E=r[10],O=r[11],t[8]=P*a+A*i+E*M+O*d,t[9]=P*e+A*s+E*h+O*b,t[10]=P*u+A*c+E*l+O*m,t[11]=P*o+A*f+E*v+O*p,P=r[12],A=r[13],E=r[14],O=r[15],t[12]=P*a+A*i+E*M+O*d,t[13]=P*e+A*s+E*h+O*b,t[14]=P*u+A*c+E*l+O*m,t[15]=P*o+A*f+E*v+O*p,t}function o(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3],i=a+a,s=e+e,c=u+u,f=a*i,M=a*s,h=a*c,l=e*s,v=e*c,d=u*c,b=o*i,m=o*s,p=o*c;return t[0]=1-(l+d),t[1]=M+p,t[2]=h-m,t[3]=0,t[4]=M-p,t[5]=1-(f+d),t[6]=v+b,t[7]=0,t[8]=h+m,t[9]=v-b,t[10]=1-(f+l),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function i(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t[4]=n[4]-r[4],t[5]=n[5]-r[5],t[6]=n[6]-r[6],t[7]=n[7]-r[7],t[8]=n[8]-r[8],t[9]=n[9]-r[9],t[10]=n[10]-r[10],t[11]=n[11]-r[11],t[12]=n[12]-r[12],t[13]=n[13]-r[13],t[14]=n[14]-r[14],t[15]=n[15]-r[15],t}n.mul=u,n.sub=i},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.sub=n.mul=void 0,n.create=function(){var t=new a.ARRAY_TYPE(9);a.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0);return t[0]=1,t[4]=1,t[8]=1,t},n.fromMat4=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[4],t[4]=n[5],t[5]=n[6],t[6]=n[8],t[7]=n[9],t[8]=n[10],t},n.clone=function(t){var n=new a.ARRAY_TYPE(9);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n},n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t},n.fromValues=function(t,n,r,e,u,o,i,s,c){var f=new a.ARRAY_TYPE(9);return f[0]=t,f[1]=n,f[2]=r,f[3]=e,f[4]=u,f[5]=o,f[6]=i,f[7]=s,f[8]=c,f},n.set=function(t,n,r,a,e,u,o,i,s,c){return t[0]=n,t[1]=r,t[2]=a,t[3]=e,t[4]=u,t[5]=o,t[6]=i,t[7]=s,t[8]=c,t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.transpose=function(t,n){if(t===n){var r=n[1],a=n[2],e=n[5];t[1]=n[3],t[2]=n[6],t[3]=r,t[5]=n[7],t[6]=a,t[7]=e}else t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8];return t},n.invert=function(t,n){var r=n[0],a=n[1],e=n[2],u=n[3],o=n[4],i=n[5],s=n[6],c=n[7],f=n[8],M=f*o-i*c,h=-f*u+i*s,l=c*u-o*s,v=r*M+a*h+e*l;if(!v)return null;return v=1/v,t[0]=M*v,t[1]=(-f*a+e*c)*v,t[2]=(i*a-e*o)*v,t[3]=h*v,t[4]=(f*r-e*s)*v,t[5]=(-i*r+e*u)*v,t[6]=l*v,t[7]=(-c*r+a*s)*v,t[8]=(o*r-a*u)*v,t},n.adjoint=function(t,n){var r=n[0],a=n[1],e=n[2],u=n[3],o=n[4],i=n[5],s=n[6],c=n[7],f=n[8];return t[0]=o*f-i*c,t[1]=e*c-a*f,t[2]=a*i-e*o,t[3]=i*s-u*f,t[4]=r*f-e*s,t[5]=e*u-r*i,t[6]=u*c-o*s,t[7]=a*s-r*c,t[8]=r*o-a*u,t},n.determinant=function(t){var n=t[0],r=t[1],a=t[2],e=t[3],u=t[4],o=t[5],i=t[6],s=t[7],c=t[8];return n*(c*u-o*s)+r*(-c*e+o*i)+a*(s*e-u*i)},n.multiply=e,n.translate=function(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3],i=n[4],s=n[5],c=n[6],f=n[7],M=n[8],h=r[0],l=r[1];return t[0]=a,t[1]=e,t[2]=u,t[3]=o,t[4]=i,t[5]=s,t[6]=h*a+l*o+c,t[7]=h*e+l*i+f,t[8]=h*u+l*s+M,t},n.rotate=function(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3],i=n[4],s=n[5],c=n[6],f=n[7],M=n[8],h=Math.sin(r),l=Math.cos(r);return t[0]=l*a+h*o,t[1]=l*e+h*i,t[2]=l*u+h*s,t[3]=l*o-h*a,t[4]=l*i-h*e,t[5]=l*s-h*u,t[6]=c,t[7]=f,t[8]=M,t},n.scale=function(t,n,r){var a=r[0],e=r[1];return t[0]=a*n[0],t[1]=a*n[1],t[2]=a*n[2],t[3]=e*n[3],t[4]=e*n[4],t[5]=e*n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t},n.fromTranslation=function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=n[0],t[7]=n[1],t[8]=1,t},n.fromRotation=function(t,n){var r=Math.sin(n),a=Math.cos(n);return t[0]=a,t[1]=r,t[2]=0,t[3]=-r,t[4]=a,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromScaling=function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=n[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromMat2d=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=0,t[3]=n[2],t[4]=n[3],t[5]=0,t[6]=n[4],t[7]=n[5],t[8]=1,t},n.fromQuat=function(t,n){var r=n[0],a=n[1],e=n[2],u=n[3],o=r+r,i=a+a,s=e+e,c=r*o,f=a*o,M=a*i,h=e*o,l=e*i,v=e*s,d=u*o,b=u*i,m=u*s;return t[0]=1-M-v,t[3]=f-m,t[6]=h+b,t[1]=f+m,t[4]=1-c-v,t[7]=l-d,t[2]=h-b,t[5]=l+d,t[8]=1-c-M,t},n.normalFromMat4=function(t,n){var r=n[0],a=n[1],e=n[2],u=n[3],o=n[4],i=n[5],s=n[6],c=n[7],f=n[8],M=n[9],h=n[10],l=n[11],v=n[12],d=n[13],b=n[14],m=n[15],p=r*i-a*o,P=r*s-e*o,A=r*c-u*o,E=a*s-e*i,O=a*c-u*i,R=e*c-u*s,y=f*d-M*v,q=f*b-h*v,x=f*m-l*v,_=M*b-h*d,Y=M*m-l*d,L=h*m-l*b,S=p*L-P*Y+A*_+E*x-O*q+R*y;if(!S)return null;return S=1/S,t[0]=(i*L-s*Y+c*_)*S,t[1]=(s*x-o*L-c*q)*S,t[2]=(o*Y-i*x+c*y)*S,t[3]=(e*Y-a*L-u*_)*S,t[4]=(r*L-e*x+u*q)*S,t[5]=(a*x-r*Y-u*y)*S,t[6]=(d*R-b*O+m*E)*S,t[7]=(b*A-v*R-m*P)*S,t[8]=(v*O-d*A+m*p)*S,t},n.projection=function(t,n,r){return t[0]=2/n,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},n.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},n.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t[4]=n[4]+r[4],t[5]=n[5]+r[5],t[6]=n[6]+r[6],t[7]=n[7]+r[7],t[8]=n[8]+r[8],t},n.subtract=u,n.multiplyScalar=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=n[7]*r,t[8]=n[8]*r,t},n.multiplyScalarAndAdd=function(t,n,r,a){return t[0]=n[0]+r[0]*a,t[1]=n[1]+r[1]*a,t[2]=n[2]+r[2]*a,t[3]=n[3]+r[3]*a,t[4]=n[4]+r[4]*a,t[5]=n[5]+r[5]*a,t[6]=n[6]+r[6]*a,t[7]=n[7]+r[7]*a,t[8]=n[8]+r[8]*a,t},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]},n.equals=function(t,n){var r=t[0],e=t[1],u=t[2],o=t[3],i=t[4],s=t[5],c=t[6],f=t[7],M=t[8],h=n[0],l=n[1],v=n[2],d=n[3],b=n[4],m=n[5],p=n[6],P=n[7],A=n[8];return Math.abs(r-h)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(e-l)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(l))&&Math.abs(u-v)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(o-d)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(i-b)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(s-m)<=a.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(c-p)<=a.EPSILON*Math.max(1,Math.abs(c),Math.abs(p))&&Math.abs(f-P)<=a.EPSILON*Math.max(1,Math.abs(f),Math.abs(P))&&Math.abs(M-A)<=a.EPSILON*Math.max(1,Math.abs(M),Math.abs(A))};var a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}(r(0));function e(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3],i=n[4],s=n[5],c=n[6],f=n[7],M=n[8],h=r[0],l=r[1],v=r[2],d=r[3],b=r[4],m=r[5],p=r[6],P=r[7],A=r[8];return t[0]=h*a+l*o+v*c,t[1]=h*e+l*i+v*f,t[2]=h*u+l*s+v*M,t[3]=d*a+b*o+m*c,t[4]=d*e+b*i+m*f,t[5]=d*u+b*s+m*M,t[6]=p*a+P*o+A*c,t[7]=p*e+P*i+A*f,t[8]=p*u+P*s+A*M,t}function u(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t[4]=n[4]-r[4],t[5]=n[5]-r[5],t[6]=n[6]-r[6],t[7]=n[7]-r[7],t[8]=n[8]-r[8],t}n.mul=e,n.sub=u},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.forEach=n.sqrLen=n.sqrDist=n.dist=n.div=n.mul=n.sub=n.len=void 0,n.create=e,n.clone=function(t){var n=new a.ARRAY_TYPE(2);return n[0]=t[0],n[1]=t[1],n},n.fromValues=function(t,n){var r=new a.ARRAY_TYPE(2);return r[0]=t,r[1]=n,r},n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t},n.set=function(t,n,r){return t[0]=n,t[1]=r,t},n.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t},n.subtract=u,n.multiply=o,n.divide=i,n.ceil=function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t},n.floor=function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t},n.min=function(t,n,r){return t[0]=Math.min(n[0],r[0]),t[1]=Math.min(n[1],r[1]),t},n.max=function(t,n,r){return t[0]=Math.max(n[0],r[0]),t[1]=Math.max(n[1],r[1]),t},n.round=function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t},n.scale=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t},n.scaleAndAdd=function(t,n,r,a){return t[0]=n[0]+r[0]*a,t[1]=n[1]+r[1]*a,t},n.distance=s,n.squaredDistance=c,n.length=f,n.squaredLength=M,n.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t},n.inverse=function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t},n.normalize=function(t,n){var r=n[0],a=n[1],e=r*r+a*a;e>0&&(e=1/Math.sqrt(e),t[0]=n[0]*e,t[1]=n[1]*e);return t},n.dot=function(t,n){return t[0]*n[0]+t[1]*n[1]},n.cross=function(t,n,r){var a=n[0]*r[1]-n[1]*r[0];return t[0]=t[1]=0,t[2]=a,t},n.lerp=function(t,n,r,a){var e=n[0],u=n[1];return t[0]=e+a*(r[0]-e),t[1]=u+a*(r[1]-u),t},n.random=function(t,n){n=n||1;var r=2*a.RANDOM()*Math.PI;return t[0]=Math.cos(r)*n,t[1]=Math.sin(r)*n,t},n.transformMat2=function(t,n,r){var a=n[0],e=n[1];return t[0]=r[0]*a+r[2]*e,t[1]=r[1]*a+r[3]*e,t},n.transformMat2d=function(t,n,r){var a=n[0],e=n[1];return t[0]=r[0]*a+r[2]*e+r[4],t[1]=r[1]*a+r[3]*e+r[5],t},n.transformMat3=function(t,n,r){var a=n[0],e=n[1];return t[0]=r[0]*a+r[3]*e+r[6],t[1]=r[1]*a+r[4]*e+r[7],t},n.transformMat4=function(t,n,r){var a=n[0],e=n[1];return t[0]=r[0]*a+r[4]*e+r[12],t[1]=r[1]*a+r[5]*e+r[13],t},n.rotate=function(t,n,r,a){var e=n[0]-r[0],u=n[1]-r[1],o=Math.sin(a),i=Math.cos(a);return t[0]=e*i-u*o+r[0],t[1]=e*o+u*i+r[1],t},n.angle=function(t,n){var r=t[0],a=t[1],e=n[0],u=n[1],o=r*r+a*a;o>0&&(o=1/Math.sqrt(o));var i=e*e+u*u;i>0&&(i=1/Math.sqrt(i));var s=(r*e+a*u)*o*i;return s>1?0:s<-1?Math.PI:Math.acos(s)},n.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]},n.equals=function(t,n){var r=t[0],e=t[1],u=n[0],o=n[1];return Math.abs(r-u)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(e-o)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(o))};var a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}(r(0));function e(){var t=new a.ARRAY_TYPE(2);return a.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function u(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t}function o(t,n,r){return t[0]=n[0]*r[0],t[1]=n[1]*r[1],t}function i(t,n,r){return t[0]=n[0]/r[0],t[1]=n[1]/r[1],t}function s(t,n){var r=n[0]-t[0],a=n[1]-t[1];return Math.sqrt(r*r+a*a)}function c(t,n){var r=n[0]-t[0],a=n[1]-t[1];return r*r+a*a}function f(t){var n=t[0],r=t[1];return Math.sqrt(n*n+r*r)}function M(t){var n=t[0],r=t[1];return n*n+r*r}n.len=f,n.sub=u,n.mul=o,n.div=i,n.dist=s,n.sqrDist=c,n.sqrLen=M,n.forEach=function(){var t=e();return function(n,r,a,e,u,o){var i=void 0,s=void 0;for(r||(r=2),a||(a=0),s=e?Math.min(e*r+a,n.length):n.length,i=a;i<s;i+=r)t[0]=n[i],t[1]=n[i+1],u(t,t,o),n[i]=t[0],n[i+1]=t[1];return n}}()},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.sqrLen=n.squaredLength=n.len=n.length=n.dot=n.mul=n.setReal=n.getReal=void 0,n.create=function(){var t=new a.ARRAY_TYPE(8);a.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0);return t[3]=1,t},n.clone=function(t){var n=new a.ARRAY_TYPE(8);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n},n.fromValues=function(t,n,r,e,u,o,i,s){var c=new a.ARRAY_TYPE(8);return c[0]=t,c[1]=n,c[2]=r,c[3]=e,c[4]=u,c[5]=o,c[6]=i,c[7]=s,c},n.fromRotationTranslationValues=function(t,n,r,e,u,o,i){var s=new a.ARRAY_TYPE(8);s[0]=t,s[1]=n,s[2]=r,s[3]=e;var c=.5*u,f=.5*o,M=.5*i;return s[4]=c*e+f*r-M*n,s[5]=f*e+M*t-c*r,s[6]=M*e+c*n-f*t,s[7]=-c*t-f*n-M*r,s},n.fromRotationTranslation=i,n.fromTranslation=function(t,n){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*n[0],t[5]=.5*n[1],t[6]=.5*n[2],t[7]=0,t},n.fromRotation=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},n.fromMat4=function(t,n){var r=e.create();u.getRotation(r,n);var o=new a.ARRAY_TYPE(3);return u.getTranslation(o,n),i(t,r,o),t},n.copy=s,n.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},n.set=function(t,n,r,a,e,u,o,i,s){return t[0]=n,t[1]=r,t[2]=a,t[3]=e,t[4]=u,t[5]=o,t[6]=i,t[7]=s,t},n.getDual=function(t,n){return t[0]=n[4],t[1]=n[5],t[2]=n[6],t[3]=n[7],t},n.setDual=function(t,n){return t[4]=n[0],t[5]=n[1],t[6]=n[2],t[7]=n[3],t},n.getTranslation=function(t,n){var r=n[4],a=n[5],e=n[6],u=n[7],o=-n[0],i=-n[1],s=-n[2],c=n[3];return t[0]=2*(r*c+u*o+a*s-e*i),t[1]=2*(a*c+u*i+e*o-r*s),t[2]=2*(e*c+u*s+r*i-a*o),t},n.translate=function(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3],i=.5*r[0],s=.5*r[1],c=.5*r[2],f=n[4],M=n[5],h=n[6],l=n[7];return t[0]=a,t[1]=e,t[2]=u,t[3]=o,t[4]=o*i+e*c-u*s+f,t[5]=o*s+u*i-a*c+M,t[6]=o*c+a*s-e*i+h,t[7]=-a*i-e*s-u*c+l,t},n.rotateX=function(t,n,r){var a=-n[0],u=-n[1],o=-n[2],i=n[3],s=n[4],c=n[5],f=n[6],M=n[7],h=s*i+M*a+c*o-f*u,l=c*i+M*u+f*a-s*o,v=f*i+M*o+s*u-c*a,d=M*i-s*a-c*u-f*o;return e.rotateX(t,n,r),a=t[0],u=t[1],o=t[2],i=t[3],t[4]=h*i+d*a+l*o-v*u,t[5]=l*i+d*u+v*a-h*o,t[6]=v*i+d*o+h*u-l*a,t[7]=d*i-h*a-l*u-v*o,t},n.rotateY=function(t,n,r){var a=-n[0],u=-n[1],o=-n[2],i=n[3],s=n[4],c=n[5],f=n[6],M=n[7],h=s*i+M*a+c*o-f*u,l=c*i+M*u+f*a-s*o,v=f*i+M*o+s*u-c*a,d=M*i-s*a-c*u-f*o;return e.rotateY(t,n,r),a=t[0],u=t[1],o=t[2],i=t[3],t[4]=h*i+d*a+l*o-v*u,t[5]=l*i+d*u+v*a-h*o,t[6]=v*i+d*o+h*u-l*a,t[7]=d*i-h*a-l*u-v*o,t},n.rotateZ=function(t,n,r){var a=-n[0],u=-n[1],o=-n[2],i=n[3],s=n[4],c=n[5],f=n[6],M=n[7],h=s*i+M*a+c*o-f*u,l=c*i+M*u+f*a-s*o,v=f*i+M*o+s*u-c*a,d=M*i-s*a-c*u-f*o;return e.rotateZ(t,n,r),a=t[0],u=t[1],o=t[2],i=t[3],t[4]=h*i+d*a+l*o-v*u,t[5]=l*i+d*u+v*a-h*o,t[6]=v*i+d*o+h*u-l*a,t[7]=d*i-h*a-l*u-v*o,t},n.rotateByQuatAppend=function(t,n,r){var a=r[0],e=r[1],u=r[2],o=r[3],i=n[0],s=n[1],c=n[2],f=n[3];return t[0]=i*o+f*a+s*u-c*e,t[1]=s*o+f*e+c*a-i*u,t[2]=c*o+f*u+i*e-s*a,t[3]=f*o-i*a-s*e-c*u,i=n[4],s=n[5],c=n[6],f=n[7],t[4]=i*o+f*a+s*u-c*e,t[5]=s*o+f*e+c*a-i*u,t[6]=c*o+f*u+i*e-s*a,t[7]=f*o-i*a-s*e-c*u,t},n.rotateByQuatPrepend=function(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3],i=r[0],s=r[1],c=r[2],f=r[3];return t[0]=a*f+o*i+e*c-u*s,t[1]=e*f+o*s+u*i-a*c,t[2]=u*f+o*c+a*s-e*i,t[3]=o*f-a*i-e*s-u*c,i=r[4],s=r[5],c=r[6],f=r[7],t[4]=a*f+o*i+e*c-u*s,t[5]=e*f+o*s+u*i-a*c,t[6]=u*f+o*c+a*s-e*i,t[7]=o*f-a*i-e*s-u*c,t},n.rotateAroundAxis=function(t,n,r,e){if(Math.abs(e)<a.EPSILON)return s(t,n);var u=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);e*=.5;var o=Math.sin(e),i=o*r[0]/u,c=o*r[1]/u,f=o*r[2]/u,M=Math.cos(e),h=n[0],l=n[1],v=n[2],d=n[3];t[0]=h*M+d*i+l*f-v*c,t[1]=l*M+d*c+v*i-h*f,t[2]=v*M+d*f+h*c-l*i,t[3]=d*M-h*i-l*c-v*f;var b=n[4],m=n[5],p=n[6],P=n[7];return t[4]=b*M+P*i+m*f-p*c,t[5]=m*M+P*c+p*i-b*f,t[6]=p*M+P*f+b*c-m*i,t[7]=P*M-b*i-m*c-p*f,t},n.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t[4]=n[4]+r[4],t[5]=n[5]+r[5],t[6]=n[6]+r[6],t[7]=n[7]+r[7],t},n.multiply=c,n.scale=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=n[7]*r,t},n.lerp=function(t,n,r,a){var e=1-a;f(n,r)<0&&(a=-a);return t[0]=n[0]*e+r[0]*a,t[1]=n[1]*e+r[1]*a,t[2]=n[2]*e+r[2]*a,t[3]=n[3]*e+r[3]*a,t[4]=n[4]*e+r[4]*a,t[5]=n[5]*e+r[5]*a,t[6]=n[6]*e+r[6]*a,t[7]=n[7]*e+r[7]*a,t},n.invert=function(t,n){var r=h(n);return t[0]=-n[0]/r,t[1]=-n[1]/r,t[2]=-n[2]/r,t[3]=n[3]/r,t[4]=-n[4]/r,t[5]=-n[5]/r,t[6]=-n[6]/r,t[7]=n[7]/r,t},n.conjugate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t[4]=-n[4],t[5]=-n[5],t[6]=-n[6],t[7]=n[7],t},n.normalize=function(t,n){var r=h(n);if(r>0){r=Math.sqrt(r);var a=n[0]/r,e=n[1]/r,u=n[2]/r,o=n[3]/r,i=n[4],s=n[5],c=n[6],f=n[7],M=a*i+e*s+u*c+o*f;t[0]=a,t[1]=e,t[2]=u,t[3]=o,t[4]=(i-a*M)/r,t[5]=(s-e*M)/r,t[6]=(c-u*M)/r,t[7]=(f-o*M)/r}return t},n.str=function(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]},n.equals=function(t,n){var r=t[0],e=t[1],u=t[2],o=t[3],i=t[4],s=t[5],c=t[6],f=t[7],M=n[0],h=n[1],l=n[2],v=n[3],d=n[4],b=n[5],m=n[6],p=n[7];return Math.abs(r-M)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(M))&&Math.abs(e-h)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(u-l)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(l))&&Math.abs(o-v)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(i-d)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(s-b)<=a.EPSILON*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(c-m)<=a.EPSILON*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(f-p)<=a.EPSILON*Math.max(1,Math.abs(f),Math.abs(p))};var a=o(r(0)),e=o(r(3)),u=o(r(4));function o(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}function i(t,n,r){var a=.5*r[0],e=.5*r[1],u=.5*r[2],o=n[0],i=n[1],s=n[2],c=n[3];return t[0]=o,t[1]=i,t[2]=s,t[3]=c,t[4]=a*c+e*s-u*i,t[5]=e*c+u*o-a*s,t[6]=u*c+a*i-e*o,t[7]=-a*o-e*i-u*s,t}function s(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t}n.getReal=e.copy;n.setReal=e.copy;function c(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3],i=r[4],s=r[5],c=r[6],f=r[7],M=n[4],h=n[5],l=n[6],v=n[7],d=r[0],b=r[1],m=r[2],p=r[3];return t[0]=a*p+o*d+e*m-u*b,t[1]=e*p+o*b+u*d-a*m,t[2]=u*p+o*m+a*b-e*d,t[3]=o*p-a*d-e*b-u*m,t[4]=a*f+o*i+e*c-u*s+M*p+v*d+h*m-l*b,t[5]=e*f+o*s+u*i-a*c+h*p+v*b+l*d-M*m,t[6]=u*f+o*c+a*s-e*i+l*p+v*m+M*b-h*d,t[7]=o*f-a*i-e*s-u*c+v*p-M*d-h*b-l*m,t}n.mul=c;var f=n.dot=e.dot;var M=n.length=e.length,h=(n.len=M,n.squaredLength=e.squaredLength);n.sqrLen=h},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.sub=n.mul=void 0,n.create=function(){var t=new a.ARRAY_TYPE(6);a.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0);return t[0]=1,t[3]=1,t},n.clone=function(t){var n=new a.ARRAY_TYPE(6);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n},n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},n.fromValues=function(t,n,r,e,u,o){var i=new a.ARRAY_TYPE(6);return i[0]=t,i[1]=n,i[2]=r,i[3]=e,i[4]=u,i[5]=o,i},n.set=function(t,n,r,a,e,u,o){return t[0]=n,t[1]=r,t[2]=a,t[3]=e,t[4]=u,t[5]=o,t},n.invert=function(t,n){var r=n[0],a=n[1],e=n[2],u=n[3],o=n[4],i=n[5],s=r*u-a*e;if(!s)return null;return s=1/s,t[0]=u*s,t[1]=-a*s,t[2]=-e*s,t[3]=r*s,t[4]=(e*i-u*o)*s,t[5]=(a*o-r*i)*s,t},n.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},n.multiply=e,n.rotate=function(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3],i=n[4],s=n[5],c=Math.sin(r),f=Math.cos(r);return t[0]=a*f+u*c,t[1]=e*f+o*c,t[2]=a*-c+u*f,t[3]=e*-c+o*f,t[4]=i,t[5]=s,t},n.scale=function(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3],i=n[4],s=n[5],c=r[0],f=r[1];return t[0]=a*c,t[1]=e*c,t[2]=u*f,t[3]=o*f,t[4]=i,t[5]=s,t},n.translate=function(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3],i=n[4],s=n[5],c=r[0],f=r[1];return t[0]=a,t[1]=e,t[2]=u,t[3]=o,t[4]=a*c+u*f+i,t[5]=e*c+o*f+s,t},n.fromRotation=function(t,n){var r=Math.sin(n),a=Math.cos(n);return t[0]=a,t[1]=r,t[2]=-r,t[3]=a,t[4]=0,t[5]=0,t},n.fromScaling=function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t[4]=0,t[5]=0,t},n.fromTranslation=function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=n[0],t[5]=n[1],t},n.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},n.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t[4]=n[4]+r[4],t[5]=n[5]+r[5],t},n.subtract=u,n.multiplyScalar=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*r,t[5]=n[5]*r,t},n.multiplyScalarAndAdd=function(t,n,r,a){return t[0]=n[0]+r[0]*a,t[1]=n[1]+r[1]*a,t[2]=n[2]+r[2]*a,t[3]=n[3]+r[3]*a,t[4]=n[4]+r[4]*a,t[5]=n[5]+r[5]*a,t},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]},n.equals=function(t,n){var r=t[0],e=t[1],u=t[2],o=t[3],i=t[4],s=t[5],c=n[0],f=n[1],M=n[2],h=n[3],l=n[4],v=n[5];return Math.abs(r-c)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(e-f)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(f))&&Math.abs(u-M)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(o-h)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(i-l)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(s-v)<=a.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))};var a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}(r(0));function e(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3],i=n[4],s=n[5],c=r[0],f=r[1],M=r[2],h=r[3],l=r[4],v=r[5];return t[0]=a*c+u*f,t[1]=e*c+o*f,t[2]=a*M+u*h,t[3]=e*M+o*h,t[4]=a*l+u*v+i,t[5]=e*l+o*v+s,t}function u(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t[4]=n[4]-r[4],t[5]=n[5]-r[5],t}n.mul=e,n.sub=u},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.sub=n.mul=void 0,n.create=function(){var t=new a.ARRAY_TYPE(4);a.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0);return t[0]=1,t[3]=1,t},n.clone=function(t){var n=new a.ARRAY_TYPE(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n},n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},n.fromValues=function(t,n,r,e){var u=new a.ARRAY_TYPE(4);return u[0]=t,u[1]=n,u[2]=r,u[3]=e,u},n.set=function(t,n,r,a,e){return t[0]=n,t[1]=r,t[2]=a,t[3]=e,t},n.transpose=function(t,n){if(t===n){var r=n[1];t[1]=n[2],t[2]=r}else t[0]=n[0],t[1]=n[2],t[2]=n[1],t[3]=n[3];return t},n.invert=function(t,n){var r=n[0],a=n[1],e=n[2],u=n[3],o=r*u-e*a;if(!o)return null;return o=1/o,t[0]=u*o,t[1]=-a*o,t[2]=-e*o,t[3]=r*o,t},n.adjoint=function(t,n){var r=n[0];return t[0]=n[3],t[1]=-n[1],t[2]=-n[2],t[3]=r,t},n.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},n.multiply=e,n.rotate=function(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3],i=Math.sin(r),s=Math.cos(r);return t[0]=a*s+u*i,t[1]=e*s+o*i,t[2]=a*-i+u*s,t[3]=e*-i+o*s,t},n.scale=function(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3],i=r[0],s=r[1];return t[0]=a*i,t[1]=e*i,t[2]=u*s,t[3]=o*s,t},n.fromRotation=function(t,n){var r=Math.sin(n),a=Math.cos(n);return t[0]=a,t[1]=r,t[2]=-r,t[3]=a,t},n.fromScaling=function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t},n.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},n.LDU=function(t,n,r,a){return t[2]=a[2]/a[0],r[0]=a[0],r[1]=a[1],r[3]=a[3]-t[2]*r[1],[t,n,r]},n.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t},n.subtract=u,n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]},n.equals=function(t,n){var r=t[0],e=t[1],u=t[2],o=t[3],i=n[0],s=n[1],c=n[2],f=n[3];return Math.abs(r-i)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(e-s)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(u-c)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(c))&&Math.abs(o-f)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))},n.multiplyScalar=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t},n.multiplyScalarAndAdd=function(t,n,r,a){return t[0]=n[0]+r[0]*a,t[1]=n[1]+r[1]*a,t[2]=n[2]+r[2]*a,t[3]=n[3]+r[3]*a,t};var a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}(r(0));function e(t,n,r){var a=n[0],e=n[1],u=n[2],o=n[3],i=r[0],s=r[1],c=r[2],f=r[3];return t[0]=a*i+u*s,t[1]=e*i+o*s,t[2]=a*c+u*f,t[3]=e*c+o*f,t}function u(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t}n.mul=e,n.sub=u},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.vec4=n.vec3=n.vec2=n.quat2=n.quat=n.mat4=n.mat3=n.mat2d=n.mat2=n.glMatrix=void 0;var a=l(r(0)),e=l(r(9)),u=l(r(8)),o=l(r(5)),i=l(r(4)),s=l(r(3)),c=l(r(7)),f=l(r(6)),M=l(r(2)),h=l(r(1));function l(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}n.glMatrix=a,n.mat2=e,n.mat2d=u,n.mat3=o,n.mat4=i,n.quat=s,n.quat2=c,n.vec2=f,n.vec3=M,n.vec4=h}])});
var compareData,df=function(){function N(e,m,l){m=e.createShader(m);e.shaderSource(m,l);e.compileShader(m);return e.getShaderParameter(m,e.COMPILE_STATUS)?m:(alert("An error occurred compiling the shaders: "+e.getShaderInfoLog(m)),e.deleteShader(m),null)}var h=void 0,u=void 0,f=function(){const e=[[]];e[0][1]=0;e[1]=[];e[1][1]=1;e[2]=[];e[2][1]=2;e[3]=[];e[3][1]=3;e[4]=[];e[4][1]=4;e[5]=[];e[5][1]=5;e[0][2]=6;e[1][2]=7;e[2][2]=8;e[3][2]=9;e[0][3]=10;e[1][3]=11;class m{makeInt(g,d){0>g&&(g=2**(4*d)+
g);return(Array(d+1).join("0")+g.toString(16)).substr(-d)}makeAttr(g,d,b,a){return g.toString(16)+this.makeInt(2+b,2)+this.makeInt(d,1)+this.makeInt(b,1)+this.makeInt(a,b)}makeAttrs(g,d,b,a){for(var k=~~(253/b),v=a.length,x=0,r="";0<v;){var C=v>k?k:v;v-=C;r+=g.toString(16)+this.makeInt(2+b*C,2)+this.makeInt(d,1)+this.makeInt(b,1);for(var A=0;A<C;A++)r+=this.makeInt(a[x],b),x++}return r}makeColorAttrs(g){for(var d=0,b=0,a="",k="";b<g.length;){var v=Math.min(Math.max(0,g[b].length),15);254<d+1+3*v&&
(a+=(4).toString(16)+this.makeInt(1+k.length,2)+this.makeInt(0,1)+k,k="",d=0);d+=1+3*v;k+=v.toString(16);for(var x=0;x<v;x++){var r=g[b][x];r=[(r/16777216&255)/255,(r/65536&255)/255,(r/256&255)/255,(r/1&255)/255];k+=Math.min(Math.max(0,~~(15*r[0])),15).toString(16)+Math.min(Math.max(0,~~(15*r[1])),15).toString(16)+Math.min(Math.max(0,~~(15*r[2])),15).toString(16)}b++}0<k.length&&(a+=(4).toString(16)+this.makeInt(1+k.length,2)+this.makeInt(0,1)+k);return a}makeGlyphSet(g,d,b){return(b?df.ff.CHUNK_COLORGLYPHSET:
df.ff.CHUNK_GLYPHSET).toString(16)+"0c"+this.makeInt(g,6)+this.makeInt(d,6)}makeGlyphAttr(g,d,b){return this.makeAttr(df.ff.CHUNK_GLYPHATTR,g,d,b)}makeGlyphAttrs(g,d,b){return this.makeAttrs(df.ff.CHUNK_GLYPHATTR,g,d,b)}makeEOF(){return df.ff.CHUNK_EOF.toString(16)+"00"}}class l{constructor(g){this.reset(g)}reset(g){this.data=g;this.i=0}skip(g){this.i+=g}getInt(g){var d=g+this.i<=this.data.length?parseInt(this.data.substr(this.i,g),16):parseInt((this.data+Array(this.i+g+1).join("0")).substr(this.i,
g),16);this.i+=g;return d}getChunkHeader(){var g=this.getInt(1),d=this.getInt(2);return{type:g,length:d}}getGlyphSet(){var g=this.getInt(6),d=this.getInt(6);return{first:g,last:d}}getAttrs(g){for(var d=this.getInt(1),b=this.getInt(1),a=[],k=0;k<(g-1-1)/b;k++)a[a.length]=this.getInt(b);return{attr:d,size:b,values:a}}getColorAttrs(g){var d=this.getInt(1),b=[];for(--g;0<g;){var a=this.getInt(1);--g;for(var k,v,x,r=[],C=0;C<a;C++){0<g&&(k=this.getInt(1));--g;0<g&&(v=this.getInt(1));--g;0<g&&(x=this.getInt(1));
--g;var A=[k/15,v/15,x/15,1];r[r.length]=16777216*~~(255*A[0])+65536*~~(255*A[1])+256*~~(255*A[2])+~~(255*A[3])}b[b.length]=r}return{attr:d,values:b}}applySign(g,d){for(var b=0;b<g.length;b++)g[b]>=2**(4*d-1)&&(g[b]-=2**(4*d))}}return{CHUNK_EOF:0,CHUNK_GLYPHSET:1,CHUNK_GLYPHATTR:2,CHUNK_COLORGLYPHSET:3,CHUNK_COLORGLYPHATTR:4,ZD_ENCODE:e,ZD_DECODE:[[0,1],[1,1],[2,1],[3,1],[4,1],[5,1],[0,2],[1,2],[2,2],[3,2],[0,3],[1,3]],ATTR_GLYPH_WIDTH:0,ATTR_GLYPH_HEIGHT:1,ATTR_GLYPH_X1:2,ATTR_GLYPH_Y1:3,ATTR_GLYPH_X2:4,
ATTR_GLYPH_Y2:5,ATTR_GLYPH_IMGX:6,ATTR_GLYPH_IMGY:7,ATTR_GLYPH_IMGZD:8,ATTR_COLORGLYPH_COLORS:0,Packer:m,Parser:l}}();class O{constructor(){}loadFromURL(e,m,l){var g=new Image;g.associatedGlyphSet=this;g.associatedCallback=m;g.associatedName=l;g.onload=this.imgCallback;g.src=e}loadFromImage(e,m,l){this.loadFromObject(e,m,l)}loadFromCanvas(e,m,l){this.loadFromObject(e,m,l)}initGlyphs(){this.glyphCodes=[];this.glyphWidths=[];this.glyphHeights=[];this.glyphX1=[];this.glyphY1=[];this.glyphX2=[];this.glyphY2=
[];this.glyphSourceX=[];this.glyphSourceY=[];this.glyphSourceZD=[];this.glyphHasColors=[];this.glyphColors=[]}isReady(){return this.ready?!0:!1}imgCallback(e){e=e.target;var m=e.associatedGlyphSet;m.loadFromObject.call(m,e,e.associatedCallback,e.associatedName)}loadFromObject(e,m,l){this.ready=!1;this.finalCallback=m;this.name=l;this.initGlyphs();this.pixCoords=[];this.texCoords=[];this.init2(e);console.log("Loaded "+this.glyphCodes.length+" glyphs in new format.");0==this.glyphCodes.length&&(this.init1(e),
console.log("Loaded "+this.glyphCodes.length+" glyphs in old format."))}init1(e){function m(p){function q(){for(;n<y.length&&(0==n%4&&0<z||1==n%4&&(1<z||2>B+z)||2==n%4&&3>B+z||3==n%4);)n+=1;var H=y[n]&15;for(n+=1;n<y.length&&(0==n%4&&0<z||1==n%4&&(1<z||2>B+z)||2==n%4&&3>B+z||3==n%4);)n+=1;return H}var n=0,t=5>=p.zd?p.zd:9>=p.zd?p.zd-6:p.zd-10,B=5>=p.zd?1:9>=p.zd?2:3,z=~~(t/2),y=g.getImageData(p.x,p.y+(1==t%2?l.height:0),p.w,p.h).data;q();t=q();var E=16*q()+q();0==E&&(E=256);var F=16*q()+q();0==F&&
(F=256);for(var I=4096*q()+256*q()+16*q()+q(),J=4096*q()+256*q()+16*q()+q(),G="";n<y.length;)G+=q().toString(16);p.x=I;p.y=J;p.w=E;p.h=F;p.zd=t;return G}var l=e;e=document.createElement("canvas");e.width=l.width;e.height=2*l.height;var g=e.getContext("2d");g.drawImage(l,0,0);g.drawImage(l,0,l.height);for(var d=g.getImageData(0,0,l.width,l.height),b=d.data,a=0;a<b.length;a+=4)b[a+0]=(b[a+0]&240)+~~((b[a+0]&240)/16),b[a+1]=(b[a+1]&240)+~~((b[a+1]&240)/16),b[a+2]=(b[a+2]&240)+~~((b[a+2]&240)/16);g.putImageData(d,
0,0);d=g.getImageData(0,l.height,l.width,l.height);b=d.data;for(a=0;a<b.length;a+=4)b[a+0]=(b[a+0]&15)+16*(b[a+0]&15),b[a+1]=(b[a+1]&15)+16*(b[a+1]&15),b[a+2]=(b[a+2]&15)+16*(b[a+2]&15);g.putImageData(d,0,l.height);a=[];a.x=l.width-2;a.y=1;a.w=1;a.h=5;a.zd=10;d=m(a,!0);do d+=m(a);while(a.x);d=new f.Parser(d);b=d.getChunkHeader();for(var k=0,v=0,x=0,r=0,C=0,A=0,K=0,L=0,M=0,w=0;b.type!=f.CHUNK_EOF;){if(b.type==f.CHUNK_COLORATTR&&0==this.colorType.length)for(a=0;a<this.glyphColorIndices.length;a++)for(;this.glyphColorIndices[a]>=
this.colorType.length;)this.colorType[this.colorType.length]=0;if(b.type==f.CHUNK_SOLIDATTR&&0==this.solidRGB.length)for(a=0;a<this.colorType.length;a++)0==this.colorType[a]&&(this.solidRGB[this.solidRGB.length]=0,this.solidMode[this.solidMode.length]=0);switch(b.type){case f.CHUNK_GLYPHSET:case f.CHUNK_COLORGLYPHSET:if(12==b.length){var D=d.getGlyphSet();for(a=D.first;a<=D.last;a++){var c=this.glyphCodes.length;this.glyphCodes[c]=a;this.glyphWidths[c]=8;this.glyphHeights[c]=8;this.glyphX1[c]=0;this.glyphY1[c]=
0;this.glyphX2[c]=8;this.glyphY2[c]=0;this.glyphHasColors[c]=b.type==f.CHUNK_COLORGLYPHSET?1:0;this.glyphColors[c]=[]}}else console.log("chuck length: ",b.length),console.log("error: bad data 1:",d.data.substr(d.i,10)),d.skip(b.length);break;case f.CHUNK_GLYPHATTR:D=d.i;c=d.getAttrs(b.length);if(1==c.values.length)switch((b.type<<16)+c.attr){case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_WIDTH:for(a=0;a<this.glyphCodes.length;a++)this.glyphWidths[a]=c.values[0];break;case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_HEIGHT:for(a=
0;a<this.glyphCodes.length;a++)this.glyphHeights[a]=c.values[0];break;case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_X1:d.applySign(c.values,c.size);for(a=0;a<this.glyphCodes.length;a++)this.glyphX1[a]=c.values[0];break;case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_Y1:d.applySign(c.values,c.size);for(a=0;a<this.glyphCodes.length;a++)this.glyphY1[a]=c.values[0];break;case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_X2:d.applySign(c.values,c.size);for(a=0;a<this.glyphCodes.length;a++)this.glyphX2[a]=c.values[0];break;
case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_Y2:d.applySign(c.values,c.size);for(a=0;a<this.glyphCodes.length;a++)this.glyphY2[a]=c.values[0];break;case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_IMGX:for(a=0;a<this.glyphCodes.length;a++)this.glyphSourceX[a]=c.values[0];break;case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_IMGY:for(a=0;a<this.glyphCodes.length;a++)this.glyphSourceY[a]=c.values[0];break;case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_IMGZD:for(a=0;a<this.glyphCodes.length;a++)this.glyphSourceZD[a]=c.values[0];
break;default:console.log("chuck length: ",b.length),console.log("ignoring unknown attribute: ",b.type,c.attr),d.skip(b.length)}else switch((b.type<<16)+c.attr){case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_WIDTH:for(a=0;a<c.values.length;a++)this.glyphWidths[k++]=c.values[a];break;case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_HEIGHT:for(a=0;a<c.values.length;a++)this.glyphHeights[v++]=c.values[a];break;case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_X1:d.applySign(c.values,c.size);for(a=0;a<c.values.length;a++)this.glyphX1[x++]=
c.values[a];break;case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_Y1:d.applySign(c.values,c.size);for(a=0;a<c.values.length;a++)this.glyphY1[r++]=c.values[a];break;case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_X2:d.applySign(c.values,c.size);for(a=0;a<c.values.length;a++)this.glyphX2[C++]=c.values[a];break;case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_Y2:d.applySign(c.values,c.size);for(a=0;a<c.values.length;a++)this.glyphY2[A++]=c.values[a];break;case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_IMGX:for(a=0;a<c.values.length;a++)this.glyphSourceX[K++]=
c.values[a];break;case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_IMGY:for(a=0;a<c.values.length;a++)this.glyphSourceY[L++]=c.values[a];break;case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_IMGZD:for(a=0;a<c.values.length;a++)this.glyphSourceZD[M++]=c.values[a];break;default:console.log("ignoring unknown attribute: ",b.type,c.attr),d.skip(b.length)}d.i-D!=b.length&&console.log("error: bad data 2");break;case f.CHUNK_COLORGLYPHATTR:c=d.getColorAttrs(b.length);switch(c.attr){case f.ATTR_COLORGLYPH_COLORS:for(a=
0;a<c.values.length;a++){for(;!this.glyphHasColors[w]&&w<this.glyphCodes.length;)w++;w<this.glyphCodes.length&&(this.glyphColors[w++]=c.values[a])}break;default:console.log("ignoring unknown color attribute: ",b.type,attr),d.skip(b.length-1)}break;default:console.log("ignoring unknown chunk type: ",b),d.skip(b.length)}b=d.getChunkHeader()}for(a=0;a<this.glyphCodes.length;a++)1==this.glyphSourceZD[a]%2&&(this.glyphSourceY[a]+=l.height);a=l.width;d=l.height;for(b=0;b<this.glyphCodes.length;b++)k=b,
this.pixCoords[8*k]=0,this.pixCoords[8*k+1]=this.glyphHeights[b],this.pixCoords[8*k+2]=0,this.pixCoords[8*k+3]=0,this.pixCoords[8*k+4]=this.glyphWidths[b],this.pixCoords[8*k+5]=0,this.pixCoords[8*k+6]=this.glyphWidths[b],this.pixCoords[8*k+7]=this.glyphHeights[b],this.texCoords[8*k]=this.glyphSourceX[k]/a,this.texCoords[8*k+1]=(this.glyphSourceY[k]+this.glyphHeights[b])/(2*d),this.texCoords[8*k+2]=this.glyphSourceX[k]/a,this.texCoords[8*k+3]=this.glyphSourceY[k]/(2*d),this.texCoords[8*k+4]=(this.glyphSourceX[k]+
this.glyphWidths[b])/a,this.texCoords[8*k+5]=this.glyphSourceY[k]/(2*d),this.texCoords[8*k+6]=(this.glyphSourceX[k]+this.glyphWidths[b])/a,this.texCoords[8*k+7]=(this.glyphSourceY[k]+this.glyphHeights[b])/(2*d);d=g.getImageData(0,0,e.width,e.height);b=d.data;for(a=0;a<~~(b.length/2);a+=4)b[a+0]=16*(b[a+0]&15),b[a+1]=16*(b[a+1]&15),b[a+2]=16*(b[a+2]&15),b[a+0]|=~~(b[a+0]/16),b[a+1]|=~~(b[a+1]/16),b[a+2]|=~~(b[a+2]/16);for(a=~~(b.length/2);a<b.length;a+=4)b[a+0]=16*~~(b[a+0]/16),b[a+1]=16*~~(b[a+1]/
16),b[a+2]=16*~~(b[a+2]/16),b[a+0]|=~~(b[a+0]/16),b[a+1]|=~~(b[a+1]/16),b[a+2]|=~~(b[a+2]/16);g.putImageData(d,0,0);this.data=e;e=g=d=b=null;this.ready=!0;this.finalCallback&&this.finalCallback.call(null)}init2(e){function m(p,q=!1){function n(){for(;t<E.length&&(0==t%4&&0<y||1==t%4&&(1<y||2>z+y)||2==t%4&&3>z+y||3==t%4);)t+=1;var H=E[t]&15;for(t+=1;t<E.length&&(0==t%4&&0<y||1==t%4&&(1<y||2>z+y)||2==t%4&&3>z+y||3==t%4);)t+=1;return H}var t=0,B=5>=p.zd?p.zd:9>=p.zd?p.zd-6:p.zd-10,z=5>=p.zd?1:9>=p.zd?
2:3,y=~~(B/2),E=g.getImageData(p.x,p.y+(1==B%2?l.height:0),p.w,p.h).data;q&&(q=""+n().toString(16),q+=n().toString(16),q+=n().toString(16),q+=n().toString(16),p.ver=q);n();q=n();B=16*n()+n();0==B&&(B=256);var F=16*n()+n();0==F&&(F=256);for(var I=4096*n()+256*n()+16*n()+n(),J=4096*n()+256*n()+16*n()+n(),G="";t<E.length;)G+=n().toString(16);p.x=I;p.y=J;p.w=B;p.h=F;p.zd=q;return G}var l=e;e=document.createElement("canvas");e.width=l.width;e.height=2*l.height;var g=e.getContext("2d");g.drawImage(l,0,
0);g.drawImage(l,0,l.height);for(var d=g.getImageData(0,l.height,l.width,l.height),b=d.data,a=0;a<b.length;a+=4)b[a+0]=(b[a+0]&240)+~~((b[a+0]&240)/16),b[a+1]=(b[a+1]&240)+~~((b[a+1]&240)/16),b[a+2]=(b[a+2]&240)+~~((b[a+2]&240)/16);g.putImageData(d,0,l.height);d=g.getImageData(0,0,l.width,l.height);b=d.data;for(a=0;a<b.length;a+=4)b[a+0]=(b[a+0]&15)+16*(b[a+0]&15),b[a+1]=(b[a+1]&15)+16*(b[a+1]&15),b[a+2]=(b[a+2]&15)+16*(b[a+2]&15);g.putImageData(d,0,0);a=[];a.x=l.width-2;a.y=1;a.w=1;a.h=6;a.zd=10;
d=m(a,!0);console.log("File format: "+a.ver);if("fed1"!=a.ver)console.log("Unrecognized file format.");else{do d+=m(a);while(a.x);d=new f.Parser(d);b=d.getChunkHeader();for(var k=0,v=0,x=0,r=0,C=0,A=0,K=0,L=0,M=0,w=0;b.type!=f.CHUNK_EOF;){if(b.type==f.CHUNK_COLORATTR&&0==this.colorType.length)for(a=0;a<this.glyphColorIndices.length;a++)for(;this.glyphColorIndices[a]>=this.colorType.length;)this.colorType[this.colorType.length]=0;if(b.type==f.CHUNK_SOLIDATTR&&0==this.solidRGB.length)for(a=0;a<this.colorType.length;a++)0==
this.colorType[a]&&(this.solidRGB[this.solidRGB.length]=0,this.solidMode[this.solidMode.length]=0);switch(b.type){case f.CHUNK_GLYPHSET:case f.CHUNK_COLORGLYPHSET:if(12==b.length){var D=d.getGlyphSet();for(a=D.first;a<=D.last;a++){var c=this.glyphCodes.length;this.glyphCodes[c]=a;this.glyphWidths[c]=8;this.glyphHeights[c]=8;this.glyphX1[c]=0;this.glyphY1[c]=0;this.glyphX2[c]=8;this.glyphY2[c]=0;this.glyphHasColors[c]=b.type==f.CHUNK_COLORGLYPHSET?1:0;this.glyphColors[c]=[]}}else{console.log("chuck length: ",
b.length);console.log("error: bad data 1:",d.data.substr(d.i,10));return}break;case f.CHUNK_GLYPHATTR:D=d.i;c=d.getAttrs(b.length);if(1==c.values.length)switch((b.type<<16)+c.attr){case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_WIDTH:for(a=0;a<this.glyphCodes.length;a++)this.glyphWidths[a]=c.values[0];break;case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_HEIGHT:for(a=0;a<this.glyphCodes.length;a++)this.glyphHeights[a]=c.values[0];break;case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_X1:d.applySign(c.values,c.size);
for(a=0;a<this.glyphCodes.length;a++)this.glyphX1[a]=c.values[0];break;case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_Y1:d.applySign(c.values,c.size);for(a=0;a<this.glyphCodes.length;a++)this.glyphY1[a]=c.values[0];break;case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_X2:d.applySign(c.values,c.size);for(a=0;a<this.glyphCodes.length;a++)this.glyphX2[a]=c.values[0];break;case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_Y2:d.applySign(c.values,c.size);for(a=0;a<this.glyphCodes.length;a++)this.glyphY2[a]=c.values[0];break;
case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_IMGX:for(a=0;a<this.glyphCodes.length;a++)this.glyphSourceX[a]=c.values[0];break;case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_IMGY:for(a=0;a<this.glyphCodes.length;a++)this.glyphSourceY[a]=c.values[0];break;case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_IMGZD:for(a=0;a<this.glyphCodes.length;a++)this.glyphSourceZD[a]=c.values[0];break;default:console.log("ignoring unknown attribute: ",b.type,c.attr),d.skip(b.length)}else switch((b.type<<16)+c.attr){case (f.CHUNK_GLYPHATTR<<
16)+f.ATTR_GLYPH_WIDTH:for(a=0;a<c.values.length;a++)this.glyphWidths[k++]=c.values[a];break;case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_HEIGHT:for(a=0;a<c.values.length;a++)this.glyphHeights[v++]=c.values[a];break;case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_X1:d.applySign(c.values,c.size);for(a=0;a<c.values.length;a++)this.glyphX1[x++]=c.values[a];break;case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_Y1:d.applySign(c.values,c.size);for(a=0;a<c.values.length;a++)this.glyphY1[r++]=c.values[a];break;case (f.CHUNK_GLYPHATTR<<
16)+f.ATTR_GLYPH_X2:d.applySign(c.values,c.size);for(a=0;a<c.values.length;a++)this.glyphX2[C++]=c.values[a];break;case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_Y2:d.applySign(c.values,c.size);for(a=0;a<c.values.length;a++)this.glyphY2[A++]=c.values[a];break;case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_IMGX:for(a=0;a<c.values.length;a++)this.glyphSourceX[K++]=c.values[a];break;case (f.CHUNK_GLYPHATTR<<16)+f.ATTR_GLYPH_IMGY:for(a=0;a<c.values.length;a++)this.glyphSourceY[L++]=c.values[a];break;case (f.CHUNK_GLYPHATTR<<
16)+f.ATTR_GLYPH_IMGZD:for(a=0;a<c.values.length;a++)this.glyphSourceZD[M++]=c.values[a];break;default:console.log("ignoring unknown attribute: ",b.type,c.attr),d.skip(b.length)}d.i-D!=b.length&&console.log("error: bad data 2");break;case f.CHUNK_COLORGLYPHATTR:c=d.getColorAttrs(b.length);switch(c.attr){case f.ATTR_COLORGLYPH_COLORS:for(a=0;a<c.values.length;a++){for(;!this.glyphHasColors[w]&&w<this.glyphCodes.length;)this.glyphColors[w++]=null;w<this.glyphCodes.length&&(this.glyphColors[w++]=c.values[a])}for(;!this.glyphHasColors[w]&&
w<this.glyphCodes.length;)this.glyphColors[w++]=null;break;default:console.log("ignoring unknown color attribute: ",b.type,attr),d.skip(b.length-1)}break;default:console.log("ignoring unknown chunk type: ",b),d.skip(b.length)}b=d.getChunkHeader()}for(a=0;a<this.glyphCodes.length;a++)1==this.glyphSourceZD[a]%2&&(this.glyphSourceY[a]+=l.height);a=l.width;d=l.height;for(b=0;b<this.glyphCodes.length;b++)k=b,this.pixCoords[8*k]=0,this.pixCoords[8*k+1]=this.glyphHeights[b],this.pixCoords[8*k+2]=0,this.pixCoords[8*
k+3]=0,this.pixCoords[8*k+4]=this.glyphWidths[b],this.pixCoords[8*k+5]=0,this.pixCoords[8*k+6]=this.glyphWidths[b],this.pixCoords[8*k+7]=this.glyphHeights[b],this.texCoords[8*k]=this.glyphSourceX[k]/a,this.texCoords[8*k+1]=(this.glyphSourceY[k]+this.glyphHeights[b])/(2*d),this.texCoords[8*k+2]=this.glyphSourceX[k]/a,this.texCoords[8*k+3]=this.glyphSourceY[k]/(2*d),this.texCoords[8*k+4]=(this.glyphSourceX[k]+this.glyphWidths[b])/a,this.texCoords[8*k+5]=this.glyphSourceY[k]/(2*d),this.texCoords[8*k+
6]=(this.glyphSourceX[k]+this.glyphWidths[b])/a,this.texCoords[8*k+7]=(this.glyphSourceY[k]+this.glyphHeights[b])/(2*d);d=g.getImageData(0,0,e.width,e.height);b=d.data;for(a=0;a<~~(b.length/2);a+=4)b[a+0]=16*(b[a+0]&15),b[a+1]=16*(b[a+1]&15),b[a+2]=16*(b[a+2]&15),b[a+0]|=~~(b[a+0]/16),b[a+1]|=~~(b[a+1]/16),b[a+2]|=~~(b[a+2]/16);for(a=~~(b.length/2);a<b.length;a+=4)b[a+0]=16*~~(b[a+0]/16),b[a+1]=16*~~(b[a+1]/16),b[a+2]=16*~~(b[a+2]/16),b[a+0]|=~~(b[a+0]/16),b[a+1]|=~~(b[a+1]/16),b[a+2]|=~~(b[a+2]/
16);g.putImageData(d,0,0);this.data=e;e=g=d=b=null;this.ready=!0;this.finalCallback&&this.finalCallback.call(null)}}init(){if(!u){{var e=h;const m=N(e,e.VERTEX_SHADER,"\n    attribute vec2 aVertex;\n    attribute vec2 aUV;\n    varying vec2 vTex;\n    uniform vec2 pos;\n    uniform mat4 uProjectionMatrix;\n    uniform mat4 uModelViewMatrix;\n    void main(void) {\n      gl_Position = uProjectionMatrix * uModelViewMatrix * vec4(aVertex + pos, 0.0, 1.0);\n      vTex = aUV;\n    }\n    "),l=N(e,e.FRAGMENT_SHADER,
"\n    precision highp float;\n    varying vec2 vTex;\n    uniform sampler2D sampler0;\n    uniform lowp vec4 color1;\n    uniform lowp vec4 color2;\n    uniform lowp vec4 color3;\n    uniform int layer;\n    uniform int depth;\n    uniform float scaleFactor;\n    void main(void){\n      float v1=0.0, v2=0.0, v3=0.0;\n      const int ss = 4;//sampleBase;\n      float tx =1.0/64.0;\n      float ty =1.0/128.0;\n      float o = float(ss-1)/2.0;\n      int i=0, j=0;\n      for(int i=0; i<ss; i++) {\n        for(int j=0; j<ss; j++) {\n          vec4 c = texture2D(sampler0, vTex+vec2((float(i)-o)/float(ss)*tx/scaleFactor,(float(j)-o)/float(ss)*ty/scaleFactor));//texture(tex, texCoordOut+vec2((i-o)/float(ss)*tx/scaleFactor,(j-o)/float(ss)*ty/scaleFactor));\n          if (layer == 0) {\n            v1 += c.r>=.5 ? 1.0 : 0.0;\n            if (depth >= 2) v2 += c.g>=.5 ? 1.0 : 0.0;\n            if (depth >= 3) v3 += c.b>=.5 ? 1.0 : 0.0;\n          } else if (layer == 1) {\n            v1 += c.g>=.5 ? 1.0 : 0.0;\n            if (depth >= 2) v2 += c.b>=.5 ? 1.0 : 0.0;\n          } else if (layer == 2) {\n            v1 += c.b>=.5 ? 1.0 : 0.0;\n          }\n        }\n      }\n      vec4 o1 = vec4(color1.rgb * (v1/float(ss*ss)), v1/float(ss*ss));\n      vec4 o2 = vec4(color2.rgb * (v2/float(ss*ss)), v2/float(ss*ss));\n      vec4 o3 = vec4(color3.rgb * (v3/float(ss*ss)), v3/float(ss*ss));\n      o1.rgb += o2.rgb * (1.0 - o1.a); o1.a += o2.a * (1.0 - o1.a);\n      o1.rgb += o3.rgb * (1.0 - o1.a); o1.a += o3.a * (1.0 - o1.a);\n      gl_FragColor = o1;\n    }\n    "),
g=e.createProgram();e.attachShader(g,m);e.attachShader(g,l);e.linkProgram(g);e.getProgramParameter(g,e.LINK_STATUS)?u=g:(alert("Unable to initialize the shader program: "+e.getProgramInfoLog(g)),u=null)}}h.useProgram(u);this.tex=h.createTexture();h.bindTexture(h.TEXTURE_2D,this.tex);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.LINEAR);h.texImage2D(h.TEXTURE_2D,0,h.RGBA,h.RGBA,h.UNSIGNED_BYTE,this.data);this.vertexBuff=h.createBuffer();
h.bindBuffer(h.ARRAY_BUFFER,this.vertexBuff);h.bufferData(h.ARRAY_BUFFER,new Float32Array(this.pixCoords),h.STATIC_DRAW);this.texBuff=h.createBuffer();h.bindBuffer(h.ARRAY_BUFFER,this.texBuff);h.bufferData(h.ARRAY_BUFFER,new Float32Array(this.texCoords),h.STATIC_DRAW);this.vloc=h.getAttribLocation(u,"aVertex");this.tloc=h.getAttribLocation(u,"aUV");this.scaleFactorLoc=h.getUniformLocation(u,"scaleFactor");this.layerLoc=h.getUniformLocation(u,"layer");this.depthLoc=h.getUniformLocation(u,"depth");
this.projMatLoc=h.getUniformLocation(u,"uProjectionMatrix");this.viewMatLoc=h.getUniformLocation(u,"uModelViewMatrix");this.color1Loc=h.getUniformLocation(u,"color1");this.color2Loc=h.getUniformLocation(u,"color2");this.color3Loc=h.getUniformLocation(u,"color3")}update(){h.useProgram(u);h.bindTexture(h.TEXTURE_2D,this.tex);h.texImage2D(h.TEXTURE_2D,0,h.RGBA,h.RGBA,h.UNSIGNED_BYTE,this.data)}calcWidth(e){var m=0;for(let g of e){e=g.codePointAt(0);var l;for(l=0;l<this.glyphCodes.length&&this.glyphCodes[l]!=
e;l++);m+=this.glyphX2[l]-this.glyphX1[l]}return m}findGlyph(e){var m=-1;"number"===typeof e&&(m=e);"string"===typeof e&&(m=e.codePointAt(0));for(e=0;e<this.glyphCodes.length&&this.glyphCodes[e]!=m;e++);return e<this.glyphCodes.length?e:-1}draw(e,m,l,g,d,b){function a(k){return[(k/16777216&255)/255,(k/65536&255)/255,(k/256&255)/255,(k/1&255)/255]}h.useProgram(u);h.blendFunc(h.SRC_ALPHA,h.ONE_MINUS_SRC_ALPHA);h.enable(h.BLEND);h.bindTexture(h.TEXTURE_2D,this.tex);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,
h.LINEAR);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.LINEAR);h.enableVertexAttribArray(this.vloc);h.bindBuffer(h.ARRAY_BUFFER,this.vertexBuff);h.vertexAttribPointer(this.vloc,2,h.FLOAT,!1,0,0);h.enableVertexAttribArray(this.tloc);h.bindBuffer(h.ARRAY_BUFFER,this.texBuff);h.vertexAttribPointer(this.tloc,2,h.FLOAT,!1,0,0);h.uniformMatrix4fv(this.projMatLoc,!1,d);mat4.translate(b,b,[e,m,0]);e=vec3.create();mat4.getScaling(e,d);d=vec3.create();mat4.getScaling(d,b);h.uniform1f(this.scaleFactorLoc,
d[0]*e[0]*h.drawingBufferWidth);for(let k of l){d=k.codePointAt(0);for(l=0;l<this.glyphCodes.length&&this.glyphCodes[l]!=d;l++);mat4.translate(b,b,[-this.glyphX1[l],-this.glyphHeights[l]+this.glyphY1[l],0]);l>=this.glyphCodes.length||(d=l,h.uniformMatrix4fv(this.viewMatLoc,!1,b),h.uniform1i(this.layerLoc,~~(f.ZD_DECODE[~~this.glyphSourceZD[l]][0]/2)),h.uniform1i(this.depthLoc,~~f.ZD_DECODE[~~this.glyphSourceZD[l]][1]),e=this.glyphHasColors[l]&&this.glyphColors[l]?this.glyphColors[l].length:0,0==e&&
h.uniform4fv(this.color1Loc,g),0<e&&h.uniform4fv(this.color1Loc,a(this.glyphColors[l][0])),1<e&&h.uniform4fv(this.color2Loc,a(this.glyphColors[l][1])),2<e&&h.uniform4fv(this.color3Loc,a(this.glyphColors[l][2])),h.drawArrays(h.TRIANGLE_FAN,4*d,4));mat4.translate(b,b,[this.glyphX2[l],this.glyphHeights[l]-this.glyphY2[l],0])}}}return{glSet:function(e){h=e},getProg:function(){return u},GlyphSet:O,ff:f}}();
var vp=function(){function N(){return 0<navigator.maxTouchPoints?85:5}function fa(a){if(a!=W){var d=0;0<W&&(d=a-W);W=a;for(a=[];lv=H.pop();)a.push(lv);if(Y)Y=!1,l.viewport(0,0,x.width,x.height),mat4.identity(Q),mat4.translate(Q,Q,[-1,1,0]),mat4.scale(Q,Q,[2/x.width,-2/x.height,1]),E&&(a=new vp.LayoutState(x.width,x.height),E.layoutAll(a));else for(;lv=a.pop();)lv.relayout();X&&--X;(Z||X)&&E.setRenderFlag(!0);if(E&&(E.needsRender||E.childRender)){a=0;for(var [,g]of Object.entries(t))g.dx=(g.x-g.px)/
d,g.px=g.x,g.dy=(g.y-g.py)/d,g.py=g.y,a+=Math.sqrt(g.dx*g.dx+g.dy*g.dy)/ha;aa&&aa.setValueAtTime(a,F.currentTime);d=[];g=0;for(var c of U){a=c.getScale();var b=c.minX,h=Math.max(c.maxX-c.w/a,b),e=c.minY,f=Math.max(c.maxY-c.h/a,e);if(c.tempVX||c.tempVY||c.tempDX||c.tempDY){var k=Math.sign(c.tempDX)*Math.min(10,Math.abs(c.tempDX)),q=Math.sign(c.tempDY)*Math.min(10,Math.abs(c.tempDY));c.tempDX=Math.sign(c.tempDX)*Math.max(0,Math.abs(c.tempDX)-10);c.tempDY=Math.sign(c.tempDY)*Math.max(0,Math.abs(c.tempDY)-
10);c.userX=K(c.userX-(1E3*c.tempVX/30/a-k),b,h);c.userY=K(c.userY-(1E3*c.tempVY/30/a-q),e,f);c.userX-c.ox/a<b||c.userX-c.ox/a>h||c.userY-c.oy/a<e||c.userY-c.oy/a>f?(c.userX=K(K(c.userX-c.ox/a,b,h)+c.ox/a,b,h),c.userY=K(K(c.userY-c.oy/a,e,f)+c.oy/a,e,f),c.rematrix(),c.relayout(),c.setRenderFlag(!0),d.push(g),delete c.tempVX,delete c.tempVY):(c.rematrix(),c.relayout(),c.setRenderFlag(!0),a=Math.sqrt(c.tempVX*c.tempVX+c.tempVY*c.tempVY),b=Math.max(0,a-.1),0!=a&&(c.tempVX=c.tempVX/a*b,c.tempVY=c.tempVY/
a*b))}else{if(c.userX-c.ox/a<b||c.userX-c.ox/a>h||c.userY-c.oy/a<e||c.userY-c.oy/a>f)c.userX=K(K(c.userX-c.ox/a,b,h)+c.ox/a,b,h),c.userY=K(K(c.userY-c.oy/a,e,f)+c.oy/a,e,f),c.rematrix(),c.relayout(),c.setRenderFlag(!0);d.push(g);delete c.tempVX;delete c.tempVY}g++}for(E.renderAll();d.length;)U.splice(d.pop(),1);0<U.length&&E.setRenderFlag(!0);if(ia){l.viewport(0,0,x.width,x.height);l.disable(l.SCISSOR_TEST);l.useProgram(z);l.bindBuffer(l.ARRAY_BUFFER,ba);c=l.getAttribLocation(z,"aVertexPosition");
l.vertexAttribPointer(c,2,l.FLOAT,!1,0,0);l.enableVertexAttribArray(c);l.enable(l.BLEND);l.uniform4fv(l.getUniformLocation(z,"uVertexColor"),new Float32Array([1,1,1,1]));l.uniformMatrix4fv(l.getUniformLocation(z,"uProjectionMatrix"),!1,Q);c=mat4.create();if(Z){a=[];for(var [,n]of Object.entries(t))if(n.hitList){d=n.hitList.getActionableGads(vp.GAF_ALL);for(const m of d)a.includes(m)||a.push(m)}for(const m of a)if(m.ownedBy){n=m.convexHull;for(p=0;p<n.length;p+=2)mat4.fromTranslation(c,[m.viewport.x,
m.viewport.y,0]),mat4.mul(c,c,m.viewport.userMat),mat4.scale(c,c,[m.viewport.getScale(),m.viewport.getScale(),1]),mat4.translate(c,c,[m.x+n[p+0]-m.viewport.userX,m.y+n[p+1]-m.viewport.userY,0]),mat4.scale(c,c,[n[(p+2)%n.length]-n[p+0],n[(p+3)%n.length]-n[p+1],1]),l.uniformMatrix4fv(l.getUniformLocation(z,"uModelViewMatrix"),!1,c),l.drawArrays(l.LINE_LOOP,y.unitLine,C.unitLine);n=vec3.create();mat4.getScaling(n,m.viewport.userMat)}for(const [,m]of Object.entries(t))mat4.identity(c),mat4.translate(c,
c,[m.x,m.y,0]),l.uniformMatrix4fv(l.getUniformLocation(z,"uModelViewMatrix"),!1,c),"mouse"==m.e.pointerType?l.drawArrays(l.LINE_LOOP,y.roundMouse,C.roundMouse):l.drawArrays(l.LINE_LOOP,y.roundTouch,C.roundTouch)}ca=(ca+1)%16;mat4.identity(c);mat4.translate(c,c,[160,45,0]);mat4.rotate(c,c,Math.PI/8*ca,[0,0,1]);mat4.scale(c,c,[40,10,0]);l.uniformMatrix4fv(l.getUniformLocation(z,"uModelViewMatrix"),!1,c);l.drawArrays(l.LINE_LOOP,y.unitSquare,C.unitSquare);mat4.identity(c);mat4.translate(c,c,[10,10,0]);
mat4.scale(c,c,[50,10,0]);l.uniformMatrix4fv(l.getUniformLocation(z,"uModelViewMatrix"),!1,c);l.drawArrays(l.LINE_LOOP,y.unitSquare,C.unitSquare);mat4.identity(c);mat4.translate(c,c,[10,25,0]);mat4.scale(c,c,[50*window.visualViewport.scale,10,0]);l.uniformMatrix4fv(l.getUniformLocation(z,"uModelViewMatrix"),!1,c);l.drawArrays(l.LINE_LOOP,y.unitSquare,C.unitSquare);mat4.identity(c);mat4.translate(c,c,[10,40,0]);mat4.scale(c,c,[50*window.devicePixelRatio,10,0]);l.uniformMatrix4fv(l.getUniformLocation(z,
"uModelViewMatrix"),!1,c);l.drawArrays(l.LINE_LOOP,y.unitSquare,C.unitSquare);mat4.identity(c);mat4.translate(c,c,[10,55,0]);mat4.scale(c,c,[50*window.innerWidth/1E3,10,0]);l.uniformMatrix4fv(l.getUniformLocation(z,"uModelViewMatrix"),!1,c);l.drawArrays(l.LINE_LOOP,y.unitSquare,C.unitSquare);for(const [,m]of Object.entries(t))mat4.identity(c),mat4.translate(c,c,[12,57,0]),mat4.scale(c,c,[46*m.x/A/1E3,6,0]),l.uniformMatrix4fv(l.getUniformLocation(z,"uModelViewMatrix"),!1,c),l.drawArrays(l.LINE_LOOP,
y.unitSquare,C.unitSquare);mat4.identity(c);mat4.translate(c,c,[10,70,0]);mat4.scale(c,c,[50*window.innerHeight/1E3,10,0]);l.uniformMatrix4fv(l.getUniformLocation(z,"uModelViewMatrix"),!1,c);l.drawArrays(l.LINE_LOOP,y.unitSquare,C.unitSquare);for(const [,m]of Object.entries(t))mat4.identity(c),mat4.translate(c,c,[12,72,0]),mat4.scale(c,c,[46*m.y/A/1E3,6,0]),l.uniformMatrix4fv(l.getUniformLocation(z,"uModelViewMatrix"),!1,c),l.drawArrays(l.LINE_LOOP,y.unitSquare,C.unitSquare)}}}window.requestAnimationFrame(fa)}
function da(){X=10;var a=window.innerWidth,d=window.innerHeight;x.width=a*window.visualViewport.scale*window.devicePixelRatio;x.height=d*window.visualViewport.scale*window.devicePixelRatio;x.style.width=a*window.visualViewport.scale;x.style.height=d*window.visualViewport.scale;ha=Math.sqrt(x.width*x.width+x.height*x.height);A=window.visualViewport.scale*window.devicePixelRatio;Y=!0}function L(a,d){function g(k,q){for(const n of k.hitList.hits)n.gad!==q&&n.gad.ownedBy==h&&(n.gad.gestureState+="-disowned",
n.gad.viewport.setRenderFlag(!0),delete n.gad.ownedBy)}function c(k){xdiff=k.x-k.ox;ydiff=k.y-k.oy;return xdiff*xdiff>ydiff*ydiff?0<xdiff?"right":"left":0<ydiff?"down":"up"}if("touches"==d&&a.touches&&0==a.touches.length){a=[];for(var [,b]of Object.entries(t))b.tempIsActive="mouse"==b.e.pointerType;for(const [k,q]of Object.entries(t))q.tempIsActive||a.push(k);for(;a.length;)delete t[a.pop()];for(const [,k]of Object.entries(t))delete k.tempIsActive}else{A!=window.visualViewport.scale*window.devicePixelRatio&&
da();var h="p-"+a.pointerId;switch(d){case "down":t.hasOwnProperty(h)||(t[h]={gestureState:"",touching:!1,px:a.layerX*A,py:a.layerY*A});b=t[h];b.e=a;b.touching=!0;b.x=a.layerX*A;b.y=a.layerY*A;b.ox=b.x;b.oy=b.y;b.hitList=new vp.HitList(b.x,b.y);E.getHits(b.hitList,N());b.hitList.sortHits();if("mouse"==a.pointerType){if(1==(a.buttons|1))for(const k of b.hitList.hits){var e=k.gad;!e.ownedBy&&e.actionFlags&vp.GAF_CLICKABLE&&(e.gestureState="begin-click",e.ownedBy=h,e.viewport.setRenderFlag(!0));!e.ownedBy&&
e.actionFlags&vp.GAF_DRAGGABLE&&(e.gestureState="begin-drag",e.ownedBy=h,e.viewport.setRenderFlag(!0));e.gestureTimerId=setTimeout(L,250,a,"drag time reached")}if(2==(a.buttons|2))for(const k of b.hitList.hits)b=k.gad,!b.ownedBy&&b.actionFlags&vp.GAF_CONTEXTMENU&&(b.gestureState="begin-menu",b.ownedBy=h,b.viewport.setRenderFlag(!0),G&&G.setValueAtTime(.1,F.currentTime),G&&G.setValueAtTime(0,F.currentTime+.001),console.log("menu down"))}else for(const k of b.hitList.hits)(b=k.gad,b.ownedBy)?b.ownedBy!=
h&&("await-pinch"==b.gestureState||b.actionFlags&vp.GAF_PINCHABLE&&("begin-drag"==b.gestureState||"begin-tap"==b.gestureState)?(b.gestureState="pinch",b.secondTouch=h,b.viewport.setRenderFlag(!0),b.pinchBeginFunc&&b.pinchBeginFunc.call(b,t[b.ownedBy],t[b.secondTouch])):"drag"==b.gestureState&&b.actionFlags&vp.GAF_PINCHABLE&&(b.gestureState="pinch",b.secondTouch=h,b.viewport.setRenderFlag(!0),b.dragEndFunc&&b.dragEndFunc.call(b,t[b.ownedBy]),b.pinchBeginFunc&&b.pinchBeginFunc.call(b,t[b.ownedBy],t[b.secondTouch]))):
b.actionFlags&vp.GAF_CLICKABLE?(b.gestureState="begin-tap",b.ownedBy=h,b.viewport.setRenderFlag(!0),b.gestureBeginTime=a.timeStamp,0!=(b.actionFlags&(vp.GAF_CONTEXTMENU|vp.GAF_HOLDABLE|vp.GAF_DRAGGABLE))&&(b.gestureTimerId=setTimeout(L,250,a,"tap-and-hold time reached"))):b.actionFlags&vp.GAF_CONTEXTMENU?(b.gestureState="begin-menu",b.ownedBy=h,b.viewport.setRenderFlag(!0),b.gestureTimerId=setTimeout(L,250,a,"tap-and-hold time reached")):b.actionFlags&vp.GAF_HOLDABLE?(b.gestureState="begin-hold",
b.ownedBy=h,b.viewport.setRenderFlag(!0),b.gestureTimerId=setTimeout(L,250,a,"tap-and-hold time reached")):b.actionFlags&vp.GAF_DRAGGABLE?(b.gestureState="begin-drag",b.ownedBy=h,b.viewport.setRenderFlag(!0),b.gestureTimerId=setTimeout(L,250,a,"drag time reached")):b.actionFlags&vp.GAF_SWIPEABLE?(b.gestureState="begin-swipe",b.ownedBy=h,b.viewport.setRenderFlag(!0)):b.actionFlags&vp.GAF_PINCHABLE&&(b.gestureState="await-pinch",b.ownedBy=h,b.viewport.setRenderFlag(!0));break;case "move":ea||"mouse"!=
a.pointerType||(ea=1,E.enableMouse&&E.enableMouse.call(E));t.hasOwnProperty(h)||(t[h]={gestureState:"mouse"==a.pointerType?"hover":"",touching:"mouse"==a.pointerType?!1:!0});b=t[h];b.e=a;b.px=b.x;b.x=a.layerX*A;b.py=b.y;b.y=a.layerY*A;if("mouse"==a.pointerType){if(b.hitList)for(e of b.hitList.hits){var f=e.gad;if(f.ownedBy==h)switch(f.gestureState){case "begin-click":case "recover-click":a=new vp.HitList(b.x,b.y);f.getHits(a,N());0==a.hits.length&&(f.gestureState="abandon-click",f.viewport.setRenderFlag(!0));
break;case "hold":a=new vp.HitList(b.x,b.y);f.getHits(a,N());0==a.hits.length&&(f.gestureState="abandon-hold",f.viewport.setRenderFlag(!0),f.holdEndFunc&&f.holdEndFunc.call(f,b));break;case "abandon-click":a=new vp.HitList(b.x,b.y);f.getHits(a,N());0!=a.hits.length&&(f.gestureState="recover-click",f.viewport.setRenderFlag(!0));break;case "abandon-hold":a=new vp.HitList(b.x,b.y);f.getHits(a,N());0!=a.hits.length&&(f.gestureState="hold",f.viewport.setRenderFlag(!0),f.holdBeginFunc&&f.holdBeginFunc.call(f,
b));break;case "begin-drag":a=c(b);Math.sqrt((b.ox-b.x)**2+(b.oy-b.y)**2)>R&&(f.hasOwnProperty("gestureTimerId")&&(clearTimeout(f.gestureTimerId),delete f.gestureTimerId),("up"==a||"down"==a)&&f.actionFlags&vp.GAF_DRAGGABLE_UPDOWN||("left"==a||"right"==a)&&f.actionFlags&vp.GAF_DRAGGABLE_LEFTRIGHT)&&(f.gestureState="drag",f.viewport.setRenderFlag(!0),g(b,f),f.dragBeginFunc&&f.dragBeginFunc.call(f,b),f.dragMoveFunc&&f.dragMoveFunc.call(f,b));break;case "drag":f.dragMoveFunc&&f.dragMoveFunc.call(f,b)}}}else for(f of b.hitList.hits)if(e=
f.gad,e.ownedBy==h)switch(e.gestureState){case "begin-tap":if(Math.sqrt((b.ox-b.x)**2+(b.oy-b.y)**2)>R&&(e.gestureState="invalid-tap",e.viewport.setRenderFlag(!0),!b.swiping))if(a=c(b),("up"==a||"down"==a)&&e.actionFlags&vp.GAF_SWIPEABLE_UPDOWN||("left"==a||"right"==a)&&e.actionFlags&vp.GAF_SWIPEABLE_LEFTRIGHT){e.gestureState="swipe";b.swiping=!0;e.viewport.setRenderFlag(!0);for(const k of b.hitList.hits)k.gad!==e&&k.gad.ownedBy==h&&delete k.gad.ownedBy;e.swipeBeginFunc&&e.swipeBeginFunc.call(e,b);
e.swipeMoveFunc&&e.swipeMoveFunc.call(e,b);console.log("swipe "+a)}else if(("up"==a||"down"==a)&&e.actionFlags&vp.GAF_DRAGGABLE_UPDOWN||("left"==a||"right"==a)&&e.actionFlags&vp.GAF_DRAGGABLE_LEFTRIGHT)e.gestureState="drag",b.swiping=!0,e.viewport.setRenderFlag(!0),DisownAllOtherGags(b,e),e.dragBeginFunc&&e.dragBeginFunc.call(e,b),e.dragMoveFunc&&e.dragMoveFunc.call(e,b),console.log("drag "+a);break;case "begin-menu":Math.sqrt((b.ox-b.x)**2+(b.oy-b.y)**2)>R&&(e.hasOwnProperty("gestureTimerId")&&(clearTimeout(e.gestureTimerId),
delete e.gestureTimerId),e.gestureState="invalid-menu",e.viewport.setRenderFlag(!0));break;case "begin-hold":Math.sqrt((b.ox-b.x)**2+(b.oy-b.y)**2)>R&&(e.hasOwnProperty("gestureTimerId")&&(clearTimeout(e.gestureTimerId),delete e.gestureTimerId),e.gestureState="invalid-hold",e.viewport.setRenderFlag(!0));break;case "begin-swipe":a=c(b);if(Math.sqrt((b.ox-b.x)**2+(b.oy-b.y)**2)>R&&(e.hasOwnProperty("gestureTimerId")&&(clearTimeout(e.gestureTimerId),delete e.gestureTimerId),!b.swiping&&(("up"==a||"down"==
a)&&e.actionFlags&vp.GAF_SWIPEABLE_UPDOWN||("left"==a||"right"==a)&&e.actionFlags&vp.GAF_SWIPEABLE_LEFTRIGHT))){e.gestureState="swipe";b.swiping=!0;e.viewport.setRenderFlag(!0);for(const k of b.hitList.hits)k.gad!==e&&k.gad.ownedBy==h&&delete k.gad.ownedBy;e.swipeBeginFunc&&e.swipeBeginFunc.call(e,b);e.swipeMoveFunc&&e.swipeMoveFunc.call(e,b)}break;case "hold":a=new vp.HitList(b.x,b.y);e.getHits(a,N());0==a.hits.length&&(e.gestureState="abandon-hold",e.viewport.setRenderFlag(!0),e.holdEndFunc&&e.holdEndFunc.call(e,
b));break;case "swipe":e.swipeMoveFunc&&e.swipeMoveFunc.call(e,b);break;case "begin-drag":a=c(b);if(Math.sqrt((b.ox-b.x)**2+(b.oy-b.y)**2)>R&&(e.hasOwnProperty("gestureTimerId")&&(clearTimeout(e.gestureTimerId),delete e.gestureTimerId),!b.swiping&&(("up"==a||"down"==a)&&e.actionFlags&vp.GAF_DRAGGABLE_UPDOWN||("left"==a||"right"==a)&&e.actionFlags&vp.GAF_DRAGGABLE_LEFTRIGHT))){e.gestureState="drag";b.swiping=!0;e.viewport.setRenderFlag(!0);g(b,e);for(const k of b.hitList.hits)if(k.gad!==e&&k.gad.secondTouch==
h)switch(k.gad.gestureState){case "pinch":k.gad.gestureState="drag",delete k.gad.secondTouch,k.gad.viewport.setRenderFlag(!0),k.gad.pinchEndFunc&&k.gad.pinchEndFunc.call(k.gad),k.gad.dragBeginFunc&&k.gad.dragBeginFunc.call(k.gad,t[k.gad.ownedBy])}e.dragBeginFunc&&e.dragBeginFunc.call(e,b);e.dragMoveFunc&&e.dragMoveFunc.call(e,b)}break;case "drag":e.dragMoveFunc&&e.dragMoveFunc.call(e,b);break;case "pinch":e.pinchMoveFunc&&e.pinchMoveFunc.call(e,t[e.ownedBy],t[e.secondTouch])}else if(e.secondTouch==
h)switch(e.gestureState){case "pinch":e.pinchMoveFunc&&e.pinchMoveFunc.call(e,t[e.ownedBy],t[e.secondTouch])}break;case "up":t.hasOwnProperty(h)||(t[h]={gestureState:"",touching:!1,x:0,y:0,px:0,py:0});b=t[h];b.e=a;b.touching=!1;if("mouse"==a.pointerType){if(1==(a.buttons|1)){e=0;for(const k of b.hitList.hits)if(f=k.gad,f.ownedBy==h){if(!e)switch(f.gestureState){case "begin-click":case "recover-click":G&&G.setValueAtTime(.1,F.currentTime);G&&G.setValueAtTime(0,F.currentTime+.001);f.clickFunc&&f.clickFunc.call(f);
e=1;break;case "hold":f.holdEndFunc&&f.holdEndFunc.call(f,b);break;case "begin-drag":f.hasOwnProperty("gestureTimerId")&&(clearTimeout(f.gestureTimerId),delete f.gestureTimerId);break;case "drag":f.dragMoveFunc&&f.dragMoveFunc.call(f,b),f.dragEndFunc&&f.dragEndFunc.call(f,b)}delete f.gestureState;delete f.ownedBy;f.viewport.setRenderFlag(!0)}}if(2==(a.buttons|2))for(const k of b.hitList.hits)if(e=k.gad,e.ownedBy==h){switch(e.gestureState){case "begin-menu":console.log("menu up")}delete e.gestureState;
delete e.ownedBy;e.viewport.setRenderFlag(!0)}delete b.hitList}else{e=0;for(const k of b.hitList.hits)if(f=k.gad,skipDel=0,f.ownedBy==h){f.hasOwnProperty("gestureTimerId")&&(clearTimeout(f.gestureTimerId),delete f.gestureTimerId);if(!e)switch(f.gestureState){case "begin-tap":250>a.timeStamp-f.gestureBeginTime?(G&&G.setValueAtTime(.1,F.currentTime),G&&G.setValueAtTime(0,F.currentTime+.001),f.clickFunc&&f.clickFunc.call(f),e=1):console.log("tap-and-hold release (edge case)");break;case "hold":f.holdEndFunc&&
f.holdEndFunc.call(f,b);break;case "tap-and-hold":console.log("tap-and-hold release");break;case "swipe":f.swipeMoveFunc&&f.swipeMoveFunc.call(f,b);f.swipeEndFunc&&f.swipeEndFunc.call(f,b);break;case "drag":f.dragMoveFunc&&f.dragMoveFunc.call(f,b);f.dragEndFunc&&f.dragEndFunc.call(f,b);break;case "pinch":f.gestureState="drag",f.ownedBy=f.secondTouch,delete f.secondTouch,f.viewport.setRenderFlag(!0),f.pinchEndFunc&&f.pinchEndFunc.call(f),f.dragBeginFunc&&f.dragBeginFunc.call(f,t[f.ownedBy]),skipDel=
1}skipDel||(delete f.gestureState,delete f.ownedBy,f.viewport.setRenderFlag(!0))}else if(f.secondTouch==h)switch(f.gestureState){case "pinch":f.gestureState="drag",delete f.secondTouch,f.viewport.setRenderFlag(!0),f.pinchEndFunc&&f.pinchEndFunc.call(f),f.dragBeginFunc&&f.dragBeginFunc.call(f,t[f.ownedBy])}}"touch"==a.pointerType&&delete t[h];delete b.swiping;break;case "wheel":t.hasOwnProperty(h)||(t[h]={gestureState:"",touching:!1,px:a.layerX*A,py:a.layerY*A});b=t[h];b.e=a;b.touching=!0;b.x=a.layerX*
A;b.y=a.layerY*A;b.hitList=new vp.HitList(b.x,b.y);E.getHits(b.hitList,N());b.hitList.sortHits();if("wheel"==a.type){e=0;for(const k of b.hitList.hits)f=k.gad,e||f.ownedBy||(f.actionFlags&(vp.GAF_SWIPEABLE_UPDOWN|vp.GAF_SCROLLABLE_UPDOWN)?(b=t[h],b.e=a,b.x=a.layerX*A,b.ox=b.x,b.px=b.x,b.y=a.layerY*A,b.oy=b.y,b.py=b.y,f.swipeBeginFunc&&f.swipeBeginFunc.call(f,b),b.dx=0,b.x=b.x,b.dy=.8*Math.sign(a.wheelDelta)*window.devicePixelRatio,b.y+=b.dy,f.swipeMoveFunc&&f.swipeMoveFunc.call(f,b),f.swipeEndFunc&&
f.swipeEndFunc.call(f,b),e=1):f.actionFlags&vp.GAF_PINCHABLE&&(b=t[h],b.e=a,b.x=a.layerX*A,b.ox=b.x,b.px=b.x,b.y=a.layerY*A,b.oy=b.y,b.py=b.y,f.actionFlags&vp.GAF_ROTATABLE&&a.altKey&&f.rotateFunc?f.rotateFunc.call(f,b,Math.sign(a.wheelDelta)):f.actionFlags&vp.GAF_SCALABLE&&f.zoomFunc&&f.zoomFunc.call(f,b,Math.sign(a.wheelDelta)),e=1))}break;case "drag time reached":t.hasOwnProperty(h)||(t[h]={gestureState:"",touching:!0});b=t[h];b.e=a;if(b.hitList)for(const k of b.hitList.hits)a=k.gad,a.ownedBy==
h&&("begin-click"==a.gestureState&&a.actionFlags&vp.GAF_HOLDABLE&&(a.gestureState="hold",a.viewport.setRenderFlag(!0),g(b,a),a.holdBeginFunc&&a.holdBeginFunc.call(a,b)),"begin-drag"!=a.gestureState||b.swiping||(a.gestureState="drag",b.swiping=!0,a.viewport.setRenderFlag(!0),g(b,a),a.dragBeginFunc&&a.dragBeginFunc.call(a,b)),a.hasOwnProperty("gestureTimerId")&&delete a.gestureTimerId);break;case "tap-and-hold time reached":t.hasOwnProperty(h)||(t[h]={gestureState:"",touching:!0});b=t[h];b.e=a;for(const k of b.hitList.hits)if(a=
k.gad,a.ownedBy==h){if(Math.sqrt((b.ox-b.x)**2+(b.oy-b.y)**2)<=R)switch(a.gestureState){case "begin-tap":case "begin-menu":case "begin-swipe":case "begin-drag":case "begin-hold":if(a.actionFlags&vp.GAF_CONTEXTMENU&&!b.swiping)a.gestureState="tap-and-hold",console.log("tap-and-hold"),a.viewport.setRenderFlag(!0);else if(a.actionFlags&vp.GAF_HOLDABLE&&!b.swiping)a.gestureState="hold",console.log("hold"),a.viewport.setRenderFlag(!0),g(b,a),a.holdBeginFunc&&a.holdBeginFunc.call(a,b);else if(a.actionFlags&
vp.GAF_DRAGGABLE&&!b.swiping)a.gestureState="drag",b.swiping=!0,a.viewport.setRenderFlag(!0),g(b,a),a.dragBeginFunc&&a.dragBeginFunc.call(a,b);else if(a.actionFlags&vp.GAF_SWIPEABLE&&!b.swiping){a.gestureState="swipe";b.swiping=!0;a.viewport.setRenderFlag(!0);for(const q of b.hitList.hits)q.gad!==a&&q.gad.ownedBy==h&&delete q.gad.ownedBy;a.swipeBeginFunc&&a.swipeBeginFunc.call(a,b)}else a.gestureState="invalid-tap-and-hold",a.viewport.setRenderFlag(!0)}a.hasOwnProperty("gestureTimerId")&&delete a.gestureTimerId}}}}
var x,ja,l;const y={},C={};var F,G,aa,ba,ha,A,Y;const H=[];var U=[];const Q=mat4.create();var ea=0,z;const K=(a,d,g)=>Math.min(Math.max(a,d),g);class la{constructor(a,d){this.x=a;this.y=d;this.hits=[]}sortHits(){for(var a=[];0<this.hits.length;){var d=0,g=this.hits[0].dist,c,b=this.hits[0].gad.z?this.hits[0].gad.z:0,h;for(c=0;c<this.hits.length&&(h=this.hits[c].gad.z?this.hits[c].gad.z:0,1);c++)if(h>b||h==b&&this.hits[c].dist<g)d=c,g=this.hits[c].dist,b=h;a.push(this.hits[d]);this.hits.splice(d,1)}this.hits=
a}containsAny(a){for(var d=0;d<this.hits.length;d++)if(0!=(this.hits[d].gad.actionFlags&a))return!0;return!1}getActionableGads(a){for(var d=[],g=0;g<this.hits.length;g++)0!=(this.hits[g].gad.actionFlags&a)&&d.splice(d.length,0,this.hits[g].gad);return d}click(){for(var a=0;a<this.hits.length;a++)0!=(this.hits[a].gad.actionFlags&vp.GAF_CLICKABLE)&&this.hits[a].gad.click&&this.hits[a].gad.click.call(this.hits[a].gad)}menu(){for(var a=0;a<this.hits.length;a++)0!=(this.hits[a].gad.actionFlags&vp.GAF_CONTEXTMENU)&&
this.hits[a].gad.menu&&this.hits[a].gad.menu.call(this.hits[a].gad)}}class M{constructor(a,d){this.totalWidth=a;this.totalHeight=d;this.remainingY=this.remainingX=0;this.remainingWidth=a;this.remainingHeight=d}}class S{constructor(a){this.parent=a;this.designFit=void 0;this.H=this.W=this.h=this.w=this.y=this.x=this.designHeight=this.designWidth=this.designScale=this.designSize=0;this.userMat=mat4.create();mat4.identity(this.userMat);this.userY=this.userX=this.oy=this.ox=0;this.gadgets=[];this.mat=
mat4.create();this.childRender=this.needsRender=!0}insideFit(a,d){this.viewScale=this.w/a<this.h/d?this.w/a:this.h/d}layoutAll(a){this.x=a.remainingX;this.y=a.remainingY;this.w=a.remainingWidth;this.h=a.remainingHeight;this.W=a.totalWidth;this.H=a.totalHeight;this.viewScale=this.designFit?this.designFit[0]/this.designFit[1]>this.w/this.h?this.w/this.designFit[0]:this.h/this.designFit[1]:this.designSize?Math.sqrt(this.w*this.h/this.designSize):this.designScale?this.designScale:this.designWidth?this.w/
this.designWidth:this.designHeight?this.h/this.designHeight:this.parent?this.parent.viewScale:1;this.rematrix();this.layoutFunc&&(this.layoutFunc.call(this),this.rematrix());this.setRenderFlag(!0)}rematrix(){mat4.scale(this.mat,Q,[x.width/this.w,x.height/this.h,1]);mat4.multiply(this.mat,this.mat,this.userMat);mat4.translate(this.mat,this.mat,[this.ox,this.oy,0]);mat4.scale(this.mat,this.mat,[this.getScale(),this.getScale(),1]);mat4.translate(this.mat,this.mat,[-this.userX,-this.userY,0]);this.setRenderFlag(!0)}relayout(){var a=
new M;a.totalWidth=this.W;a.totalHeight=this.H;a.remainingX=this.x;a.remainingY=this.y;a.remainingWidth=this.w;a.remainingHeight=this.h;this.layoutAll(a)}getScale(){return this.viewScale}setRenderFlag(a){this.needsRender||(this.needsRender=this.needsender||a,this.childRender=!0,this.parent&&this.parent.setRenderFlag(!1),a&&this.a&&this.a.setRenderFlag(!0),a&&this.b&&this.b.setRenderFlag(!0),a&&this.c&&this.c.setRenderFlag(!0))}renderAll(a=!0){this.childRender=!1;this.needsRender&&(this.needsRender=
!1,this.clip(),a&&(l.clearColor(0,0,0,1),l.clear(l.COLOR_BUFFER_BIT)),this.renderFunc&&this.renderFunc.call(this))}clip(){l.viewport(this.x,this.H-this.y-this.h,this.w,this.h);l.scissor(this.x,this.H-this.y-this.h,this.w,this.h);l.enable(l.SCISSOR_TEST)}prepMatrix(){vp.projMat&&vp.viewMat&&(mat4.identity(vp.projMat),mat4.translate(vp.projMat,vp.projMat,[-1,1,0]),mat4.scale(vp.projMat,vp.projMat,[2/this.w,-2/this.h,1]),mat4.identity(vp.viewMat),mat4.scale(vp.viewMat,vp.viewMat,[this.getScale(),this.getScale(),
1]),mat4.translate(vp.viewMat,vp.viewMat,[-this.panX,-this.panY,0]))}getHits(a,d){if(!(a.x<this.x-d||a.y<this.y-d||a.x>=this.x+this.w+d||a.y>=this.y+this.h+d))for(const g of this.gadgets)g?g.getHits(a,d):console.log("Bad gadget",this)}}class ma extends S{constructor(a,d,g,c){super(a);this.type=d;this.stateNew=this.state="";this.stateProg=0;this.size=c;this.threshold=this.ratio=g;this.c=this.b=this.a=void 0;this.prevTime=0}layoutAll(a){super.layoutAll(a);var d=new M(a.totalWidth,a.totalHeight),g=new M(a.totalWidth,
a.totalHeight),c=new M(a.totalWidth,a.totalHeight),b=~~(this.size*this.getScale()),h=this.stateNew;if(""==this.stateNew){var e=a.remainingWidth*this.threshold>a.remainingHeight*(1-this.threshold)?!0:!1;this.state=this.stateNew="a"==this.type?e?"v":"h":this.type}if("a"==this.type){e=0;var f=Date.now();0!=this.prevTime&&(e=f-this.prevTime);this.prevTime=f;17<e&&(e=17);a.remainingWidth*this.threshold>a.remainingHeight*(1-this.threshold)+2&&(this.stateNew="v");a.remainingHeight*this.threshold>a.remainingWidth*
(1-this.threshold)+2&&(this.stateNew="h");if(this.stateNew!=this.state||0<this.stateProg)this.stateNew!=this.state?(this.stateProg+=.008*e,1<=this.stateProg&&(this.stateProg=1,this.state=this.stateNew),-1===H.indexOf(this)&&H.push(this)):(this.stateProg-=.008*e,0>this.stateProg&&(this.stateProg=0),0<this.stateProg&&-1===H.indexOf(this)&&H.push(this))}this.layoutFunc&&this.state!=h&&this.layoutFunc.call(this);h=1-this.stateProg*(1-this.ratio);e=1-this.stateProg*(0+this.ratio);"v"==this.state?(f=~~((a.remainingWidth-
b)*this.ratio),d.remainingWidth=f,d.remainingHeight=~~(a.remainingHeight*h),d.remainingX=a.remainingX,d.remainingY=a.remainingY,g.remainingWidth=a.remainingWidth-b-f,g.remainingHeight=~~(a.remainingHeight*e),g.remainingX=a.remainingX+f+b,g.remainingY=a.remainingY+a.remainingHeight-g.remainingHeight,c.remainingX=a.remainingX+f,c.remainingY=a.remainingY,c.remainingWidth=b,c.remainingHeight=a.remainingHeight):"h"==this.state&&(f=~~((a.remainingHeight-b)*this.ratio),d.remainingWidth=~~(a.remainingWidth*
h),d.remainingHeight=f,d.remainingX=a.remainingX,d.remainingY=a.remainingY,g.remainingWidth=~~(a.remainingWidth*e),g.remainingHeight=a.remainingHeight-b-f,g.remainingX=a.remainingX+a.remainingWidth-g.remainingWidth,g.remainingY=a.remainingY+f+b,c.remainingX=a.remainingX,c.remainingY=a.remainingY+f,c.remainingWidth=a.remainingWidth,c.remainingHeight=b);this.a&&this.a.layoutAll(d);this.b&&this.b.layoutAll(g);this.c&&this.c.layoutAll(c)}renderAll(){super.renderAll();this.a&&(this.a.needsRender||this.a.childRender)&&
this.a.renderAll();this.b&&(this.b.needsRender||this.b.childRender)&&this.b.renderAll();this.c&&(this.c.needsRender||this.c.childRender)&&this.c.renderAll()}getHits(a,d){this.a&&this.a.getHits(a,d);this.b&&this.b.getHits(a,d);this.c&&this.c.getHits(a,d)}}class na extends S{constructor(a,d,g,c){super(a);this.type=d;this.stateNew=this.state="";this.stateProg=0;this.sizeH=g;this.sizeV=c?c:g;this.threshold=.5;this.b=this.a=void 0;this.prevTime=0;this.tallState=this.wideState=""}layoutAll(a){super.layoutAll(a);
var d=new M(a.totalWidth,a.totalHeight),g=new M(a.totalWidth,a.totalHeight),c=~~(this.sizeH*this.getScale()),b=~~(this.sizeV*this.getScale()),h=this.stateNew;if(""==this.stateNew){var e=a.remainingWidth*this.threshold>a.remainingHeight*(1-this.threshold)?!0:!1;"tl"==this.type?(this.wideState="l",this.tallState="t",this.stateNew=e?this.wideState:this.tallState):"tr"==this.type?(this.wideState="r",this.tallState="t",this.stateNew=e?this.wideState:this.tallState):"bl"==this.type?(this.wideState="l",
this.tallState="b",this.stateNew=e?this.wideState:this.tallState):"br"==this.type?(this.wideState="r",this.tallState="t",this.stateNew=e?this.wideState:this.tallState):this.stateNew=this.type;this.state=this.stateNew}if(1<this.type.length){e=0;var f=Date.now();0!=this.prevTime&&(e=f-this.prevTime);this.prevTime=f;17<e&&(e=17);a.remainingWidth*this.threshold>a.remainingHeight*(1-this.threshold)+2&&(this.stateNew=this.wideState);a.remainingHeight*this.threshold>a.remainingWidth*(1-this.threshold)+2&&
(this.stateNew=this.tallState);if(this.stateNew!=this.state||0<this.stateProg)this.stateNew!=this.state?(this.stateProg+=.008*e,1<=this.stateProg&&(this.stateProg=1,this.state=this.stateNew),-1===H.indexOf(this)&&H.push(this)):(this.stateProg-=.008*e,0>this.stateProg&&(this.stateProg=0),0<this.stateProg&&-1===H.indexOf(this)&&H.push(this))}this.layoutFunc&&this.state!=h&&this.layoutFunc.call(this);e="t"==this.state||"b"==this.state?b/a.remainingWidth:c/a.remainingHeight;h=1-this.stateProg*(1-e);e=
1-this.stateProg*(0+e);"l"==this.state?(d.remainingWidth=b,d.remainingHeight=~~(a.remainingHeight*h),d.remainingX=a.remainingX,g.remainingWidth=a.remainingWidth-b,g.remainingHeight=~~(a.remainingHeight*e),g.remainingX=a.remainingX+b,"t"==this.tallState?(d.remainingY=a.remainingY,g.remainingY=a.remainingY+a.remainingHeight-g.remainingHeight):(d.remainingY=a.remainingY+a.remainingHeight-d.remainingHeight,g.remainingY=a.remainingY)):"r"==this.state?(d.remainingWidth=b,d.remainingHeight=~~(a.remainingHeight*
h),d.remainingX=a.remainingX+a.remainingWidth-b,g.remainingWidth=a.remainingWidth-b,g.remainingHeight=~~(a.remainingHeight*e),g.remainingX=a.remainingX,"t"==this.tallState?(d.remainingY=a.remainingY,g.remainingY=a.remainingY+a.remainingHeight-g.remainingHeight):(d.remainingY=a.remainingY+a.remainingHeight-d.remainingHeight,g.remainingY=a.remainingY)):"t"==this.state?(d.remainingWidth=~~(a.remainingWidth*h),d.remainingHeight=c,d.remainingY=a.remainingY,g.remainingWidth=~~(a.remainingWidth*e),g.remainingHeight=
a.remainingHeight-c,g.remainingY=a.remainingY+c,"l"==this.wideState?(d.remainingX=a.remainingX,g.remainingX=a.remainingX+a.remainingWidth-g.remainingWidth):(d.remainingX=a.remainingX+a.remainingWidth-d.remainingWidth,g.remainingX=a.remainingX)):"b"==this.state&&(d.remainingWidth=~~(a.remainingWidth*h),d.remainingHeight=c,d.remainingY=a.remainingY+a.remainingHeight-c,g.remainingWidth=~~(a.remainingWidth*e),g.remainingHeight=a.remainingHeight-c,g.remainingY=a.remainingY,"l"==this.wideState?(d.remainingX=
a.remainingX,g.remainingX=a.remainingX+a.remainingWidth-g.remainingWidth):(d.remainingX=a.remainingX+a.remainingWidth-d.remainingWidth,g.remainingX=a.remainingX));this.a&&this.a.layoutAll(d);this.b&&this.b.layoutAll(g)}renderAll(){super.renderAll();this.a&&(this.a.needsRender||this.a.childRender)&&this.a.renderAll();this.b&&(this.b.needsRender||this.b.childRender)&&this.b.renderAll()}getHits(a,d){this.a&&this.a.getHits(a,d);this.b&&this.b.getHits(a,d)}}class oa extends S{constructor(a){super(a);this.b=
this.a=void 0}layoutAll(a){super.layoutAll(a);this.layoutFunc&&this.layoutFunc.call(this);var d=new M(a.totalWidth,a.totalHeight),g=new M(a.totalWidth,a.totalHeight);d.remainingX=a.remainingX;d.remainingY=a.remainingY;d.remainingWidth=a.remainingWidth;d.remainingHeight=a.remainingHeight;g.remainingX=a.remainingX;g.remainingY=a.remainingY;g.remainingWidth=a.remainingWidth;g.remainingHeight=a.remainingHeight;this.a&&this.a.layoutAll(d);this.b&&this.b.layoutAll(g)}setRenderFlag(a){super.setRenderFlag(!0)}renderAll(){super.renderAll();
if(this.a&&(this.a.needsRender||this.a.childRender)||this.b&&(this.b.needsRender||this.b.childRender))this.b.renderAll(),this.a.renderAll(!1)}getHits(a,d){this.a&&this.a.getHits(a,d);this.b&&this.b.getHits(a,d)}}class pa extends S{constructor(a){super(a);this.gadgets.push(a=new T(this));a.w=10;a.h=1E3;a.convexHull=a.computeHull([50,50,100,200,200,200,200,100]);a.click=function(){}}}class ka extends S{constructor(a){super(a);this.gadgets.push(a=new T(this));a.w=1E3;a.h=1E3;a.convexHull=a.computeHull([0,
0,0,1E3,1E3,1E3,1E3,0]);a.click=function(){}}}class T{constructor(a){this.viewport=a;this.mat=mat4.create();mat4.identity(this.mat);this.H=this.h=this.w=this.y=this.x=0;this.convexHull=[];this.extendedHulls={};this.boundingBoxes={};this.yo=this.xo=0;this.enabled=!0;this.selected=!1;this.actionFlags=0}getHits(a,d){if(this.enabled&&0!=this.convexHull.length){var g=this.viewport,c=vec3.create();mat4.getScaling(c,g.userMat);d=d/g.getScale()/c[0];c=""+d;c in this.extendedHulls||(this.computeExtendedHull(d),
this.computeBoundingBox(d));d=this.extendedHulls[c];var b=this.boundingBoxes[c];c=1/g.getScale();var h=vec3.create();h[0]=a.x-g.x-this.x/c;h[1]=a.y-g.y-this.y/c;var e=mat4.create();mat4.invert(e,g.userMat);vec3.transformMat4(h,h,e);g=h[0]*c;c*=h[1];if(!(g<b.x1||g>=b.x2||c<b.y1||c>=b.y2)){h=d.length;b=!0;for(e=0;e<h;e+=2){var f=d[e+0],k=d[e+1];f=(d[(e+2)%h]-f)*(c-k)-(d[(e+3)%h]-k)*(g-f);0>f&&(b=!1)}if(b){h=this.convexHull.length;b=!0;for(e=0;e<h;e+=2)d=this.convexHull[e+0],f=this.convexHull[e+1],f=
(this.convexHull[(e+2)%h]-d)*(c-f)-(this.convexHull[(e+3)%h]-f)*(g-d),0>f&&(b=!1);d=0;b||(d=this.distToHull(g,c));a.hits.push({gad:this,dist:d})}}}}autoHull(){this.convexHull=this.computeHull([0,0,this.w,0,this.w,this.h,0,this.h]);this.extendedHulls={};this.boundingBoxes={}}computeHull(a){function d(r,u,w,B,I,J){return(w-r)*(J-u)-(B-u)*(I-r)}function g(r){return r*r}function c(r,u,w,B,I,J){var D=g(w-I)+g(B-J);if(0==D)return g(r-w)+g(u-B);D=Math.max(0,Math.min(1,((r-w)*(I-w)+(u-B)*(J-B))/D));B+=D*
(J-B);return g(r-(w+D*(I-w)))+g(u-B)}function b(r,u,w,B,I,J){if(!(2>u.length)){for(var D=0,O=0,v=0;v<~~(u.length/2);v++){var P=Math.sqrt(c(u[2*v],u[2*v+1],w,B,I,J));P>O&&(O=P,D=v)}O=u[2*D];P=u[2*D+1];u.splice(2*D,2);for(v=0;v<~~(r.length/2);v++)if(r[2*v]==w&&r[2*v+1]==B&&r[(2*v+2)%r.length]==I&&r[(2*v+3)%r.length]==J||r[2*v]==I&&r[2*v+1]==J&&r[(2*v+2)%r.length]==w&&r[(2*v+3)%r.length]==B){r.splice(2*v+2,0,O,P);break}D=[];var V=[];for(v=0;v<~~(u.length/2);v++)0>d(w,B,O,P,u[2*v],u[2*v+1])&&(D[D.length]=
u[2*v],D[D.length]=u[2*v+1]),0>d(O,P,I,J,u[2*v],u[2*v+1])&&(V[V.length]=u[2*v],V[V.length]=u[2*v+1]);b(r,D,w,B,O,P);b(r,V,O,P,I,J)}}for(var h=[...a],e=[],f=0,k=0,q=h[0],n=h[0],m=0;m<~~(h.length/2);m++)h[2*m]<q&&(q=h[2*m],f=m),h[2*m]>n&&(n=h[2*m],k=m);e[e.length]=h[2*f];e[e.length]=h[2*f+1];e[e.length]=h[2*k];e[e.length]=h[2*k+1];h.splice(2*f,2);k<f?h.splice(2*k,2):h.splice(2*k-2,2);q=[];n=[];for(m=0;m<~~(h.length/2);m++)0>d(a[2*f],a[2*f+1],a[2*k],a[2*k+1],h[2*m],h[2*m+1])?(q[q.length]=h[2*m],q[q.length]=
h[2*m+1]):(n[n.length]=h[2*m],n[n.length]=h[2*m+1]);b(e,q,a[2*f],a[2*f+1],a[2*k],a[2*k+1]);b(e,n,a[2*k],a[2*k+1],a[2*f],a[2*f+1]);for(a=1;a;)for(m=a=0;m<~~(e.length/2);m++)if(.01>Math.sqrt(c(e[(2*m+2)%e.length],e[(2*m+3)%e.length],e[2*m],e[2*m+1],e[(2*m+4)%e.length],e[(2*m+5)%e.length]))){e.splice(2*m+2,2);a=1;break}return this.sortHull(e)}sortHull(a){function d(n){for(n=Math.atan2(a[n+1]-b,a[n+0]-c)-Math.atan2(k-b,f-c);n>Math.PI;)n-=2*Math.PI;for(;n<-Math.PI;)n+=2*Math.PI;return n}for(var g=[],c=
0,b=0,h=a.length,e=0;e<h;e+=2)c+=a[e+0],b+=a[e+1];c/=h/2;b/=h/2;for(var f=c+102,k=b+1;0<a.length;){h=0;var q=d(0);for(e=0;e<a.length;e+=2)d(e)<q&&(h=e,q=d(e));g.push(a[h+0]);g.push(a[h+1]);a.splice(h,2)}return g}computeExtendedHull(a){for(var d=[],g=0,c=this.convexHull.length,b=0;b<c;b+=2){var h=this.convexHull[(b+3)%c]-this.convexHull[b+1],e=-(this.convexHull[(b+2)%c]-this.convexHull[b+0]),f=a/Math.sqrt(h*h+e*e);d[g+0]=this.convexHull[b+0]+h*f;d[g+1]=this.convexHull[b+1]+e*f;g+=2;d[g+0]=this.convexHull[(b+
2)%c]+h*f;d[g+1]=this.convexHull[(b+3)%c]+e*f;g+=2}for(b=0;b<c;b+=2){h=this.convexHull[(b+2)%c]-this.convexHull[b+0];e=this.convexHull[(b+3)%c]-this.convexHull[b+1];g=this.convexHull[(b-2+c)%c]-this.convexHull[b+0];var k=this.convexHull[(b-1+c)%c]-this.convexHull[b+1];f=Math.sqrt(h*h+e*e);k=Math.tan((Math.PI-Math.acos((h*g+e*k)/(f*Math.sqrt(g*g+k*k))))/4)*a;g=2*b;h=d[g+0]-d[g+2];e=d[g+1]-d[g+3];f=Math.sqrt(h*h+e*e);h=h*(f+k)/f;e=e*(f+k)/f;d[g+0]=h+d[g+2];d[g+1]=e+d[g+3];g=(b-2+c)%c*2;h=d[g+2]-d[g+
0];e=d[g+3]-d[g+1];f=Math.sqrt(h*h+e*e);h=h*(f+k)/f;e=e*(f+k)/f;d[g+2]=h+d[g+0];d[g+3]=e+d[g+1]}this.extendedHulls[""+a]=d}computeBoundingBox(a){this.boundingBoxes[""+a]={};var d=this.extendedHulls[""+a];a=this.boundingBoxes[""+a];if(!(2>d.length)){a.x1=d[0];a.x2=d[0];a.y1=d[1];a.y2=d[1];for(var g=2;g<d.length;g+=2)d[g+0]<a.x1&&(a.x1=d[g+0]),d[g+0]>a.x2&&(a.x2=d[g+0]),d[g+1]<a.y1&&(a.y1=d[g+1]),d[g+1]>a.y2&&(a.y2=d[g+1])}}distToHull(a,d){function g(k){return k*k}function c(k,q,n,m,r,u){var w=g(n-
r)+g(m-u);if(0==w)return g(k-n)+g(q-m);w=Math.max(0,Math.min(1,((k-n)*(r-n)+(q-m)*(u-m))/w));m+=w*(u-m);return g(k-(n+w*(r-n)))+g(q-m)}for(var b=this.convexHull,h=Math.sqrt(c(a,d,b[0],b[1],b[2],b[3])),e=2;e<b.length;e+=2){var f=Math.sqrt(c(a,d,b[e+0],b[e+1],b[(e+2)%b.length],b[(e+3)%b.length]));f<h&&(h=f)}return h}}class qa extends T{constructor(a){super(a);this.dragBeginFunc=function(d){this.tempX=d.ox-this.viewport.x;this.tempY=d.oy-this.viewport.y};this.dragMoveFunc=function(d){var g=this.viewport.parent,
c="h"==g.state,b=c?d.y-this.tempY-g.a.y:d.x-this.tempX-g.a.x;g.ratio=Math.max(0,Math.min(1,b/(b+(c?g.y+g.h-(d.y-this.tempY+this.viewport.h):g.x+g.w-(d.x-this.tempX+this.viewport.w)))));-1===H.indexOf(this.viewport.parent)&&H.push(this.viewport.parent)};this.dragEndFunc=function(d){delete this.tempX;delete this.tempY}}layout(){var a=this.viewport,d="h"==a.parent.state,g=a.getScale(),c=a.parent.size,b=d?Math.max(1,a.w)/g:c;a=d?c:Math.max(1,a.h)/g;this.actionFlags=d?vp.GAF_DRAGGABLE_UPDOWN:vp.GAF_DRAGGABLE_LEFTRIGHT;
this.convexHull=this.computeHull([0,0,0,a,b,a,b,0]);this.extendedHulls={};this.boundingBoxes={}}}class ra extends T{getTargetMat(){return this.targetGad?this.targetGad.mat:this.targetView.userMat}constructor(a){super(a);this.targetView=a;this.targetGad=void 0;this.dragBeginFunc=function(d){var g=this.targetView;this.grab1b=vec3.create();this.grab1b[0]=d.x-g.x;this.grab1b[1]=d.y-g.y;this.viewMat=mat4.create();mat4.copy(this.viewMat,g.userMat);this.grabMat=mat4.create();mat4.copy(this.grabMat,this.getTargetMat());
d=mat4.create();mat4.invert(d,this.viewMat);vec3.transformMat4(this.grab1b,this.grab1b,d);this.targetGad&&(d=mat4.create(),mat4.invert(d,this.grabMat),vec3.transformMat4(this.grab1b,this.grab1b,d))};this.dragMoveFunc=function(d){var g=this.targetView,c=vec3.create();c[0]=d.x-g.x;c[1]=d.y-g.y;d=mat4.create();mat4.invert(d,this.viewMat);vec3.transformMat4(c,c,d);this.targetGad&&(d=mat4.create(),mat4.invert(d,this.grabMat),vec3.transformMat4(c,c,d));d=vec3.create();vec3.subtract(d,c,this.grab1b);this.targetGad&&
vec3.scale(d,d,1/g.getScale());mat4.translate(this.getTargetMat(),this.grabMat,d);g.rematrix();g.setRenderFlag(!0)};this.dragEndFunc=function(d){d=this.targetView;delete this.grab1b;delete this.viewMat;delete this.grabMat;d.setRenderFlag(!0)};this.pinchBeginFunc=function(d,g){var c=this.targetView;this.grab1=vec3.create();this.grab1[0]=d.x-c.x;this.grab1[1]=d.y-c.y;this.grab2=vec3.create();this.grab2[0]=g.x-c.x;this.grab2[1]=g.y-c.y;this.viewMat=mat4.create();mat4.copy(this.viewMat,c.userMat);this.grabMat=
mat4.create();mat4.copy(this.grabMat,this.getTargetMat());this.grabC=vec3.create();this.grab1b=vec3.create();vec3.copy(this.grab1b,this.grab1);this.grab2b=vec3.create();vec3.copy(this.grab2b,this.grab2);this.grabCb=vec3.create();d=mat4.create();mat4.invert(d,this.viewMat);vec3.transformMat4(this.grab1b,this.grab1b,d);vec3.transformMat4(this.grab2b,this.grab2b,d);this.targetGad&&(d=mat4.create(),mat4.copy(d,this.grabMat),vec3.transformMat4(this.grab1b,this.grab1b,d),vec3.transformMat4(this.grab2b,
this.grab2b,d));for(d=0;3>d;d++)this.grabC[d]=(this.grab1[d]+this.grab2[d])/2,this.grabCb[d]=(this.grab1b[d]+this.grab2b[d])/2;d=this.grab2[0]-this.grab1[0];g=this.grab2[1]-this.grab1[1];this.grabA=Math.atan2(g,d);this.grabM=Math.sqrt(d*d+g*g)};this.pinchMoveFunc=function(d,g){var c=this.targetView,b=vec3.create();b[0]=d.x-c.x;b[1]=d.y-c.y;d=vec3.create();d[0]=g.x-c.x;d[1]=g.y-c.y;var h=vec3.create(),e=vec3.create(),f=vec3.create();g=vec3.create();vec3.copy(e,b);vec3.copy(f,d);var k=mat4.create();
mat4.invert(k,this.viewMat);vec3.transformMat4(e,e,k);vec3.transformMat4(f,f,k);this.targetGad&&(k=mat4.create(),mat4.copy(k,this.grabMat),vec3.transformMat4(e,e,k),vec3.transformMat4(f,f,k));for(k=0;3>k;k++)h[k]=(b[k]+d[k])/2,g[k]=(e[k]+f[k])/2;h=d[0]-b[0];d=d[1]-b[1];b=Math.atan2(d,h);d=Math.sqrt(h*h+d*d);h=mat4.create();mat4.copy(h,this.grabMat);this.targetGad?(this.actionFlags&vp.GAF_DRAGGABLE?mat4.translate(h,h,[g[0]/c.getScale(),g[1]/c.getScale(),0]):mat4.translate(h,h,[this.grabCb[0]/c.getScale(),
this.grabCb[1]/c.getScale(),0]),this.actionFlags&vp.GAF_SCALABLE&&mat4.scale(h,h,[d/this.grabM,d/this.grabM,1]),this.actionFlags&vp.GAF_ROTATABLE&&mat4.rotate(h,h,b-this.grabA,[0,0,1]),mat4.translate(h,h,[-this.grabCb[0]/c.getScale(),-this.grabCb[1]/c.getScale(),0])):(this.actionFlags&vp.GAF_DRAGGABLE?mat4.translate(h,h,[g[0],g[1],0]):mat4.translate(h,h,[this.grabCb[0],this.grabCb[1],0]),this.actionFlags&vp.GAF_SCALABLE&&mat4.scale(h,h,[d/this.grabM,d/this.grabM,1]),this.actionFlags&vp.GAF_ROTATABLE&&
mat4.rotate(h,h,b-this.grabA,[0,0,1]),mat4.translate(h,h,[-this.grabCb[0],-this.grabCb[1],0]));c.rematrix();c.setRenderFlag(!0);mat4.copy(this.getTargetMat(),h)};this.pinchEndFunc=function(d,g){delete this.grab1;delete this.grab1b;delete this.grab2;delete this.grab2b;delete this.grabC;delete this.grabCb;delete this.grabA;delete this.grabM;delete this.grabMat};this.zoomFunc=function(d,g){const c=this.targetView,b=this.getTargetMat(),h=vec3.create();this.actionFlags&vp.GAF_DRAGGABLE?(h[0]=d.x-c.x,h[1]=
d.y-c.y):mat4.getTranslation(h,b);d=mat4.create();mat4.invert(d,b);vec3.transformMat4(h,h,d);mat4.translate(b,b,[h[0],h[1],0]);mat4.scale(b,b,[Math.exp(g/10),Math.exp(g/10),1]);mat4.translate(b,b,[-h[0],-h[1],0]);c.rematrix();c.setRenderFlag(!0)};this.rotateFunc=function(d,g){const c=this.targetView,b=this.getTargetMat(),h=vec3.create();this.actionFlags&vp.GAF_DRAGGABLE?(h[0]=d.x-c.x,h[1]=d.y-c.y):mat4.getTranslation(h,b);d=mat4.create();mat4.invert(d,b);vec3.transformMat4(h,h,d);mat4.translate(b,
b,[h[0],h[1],0]);mat4.rotate(b,b,-Math.PI/18*g,[0,0,1]);mat4.translate(b,b,[-h[0],-h[1],0]);c.rematrix();c.setRenderFlag(!0)}}getHits(a,d){this.enabled&&(0==this.convexHull.length?a.hits.push({gad:this,dist:0}):super.getHits(a,d))}layout(){console.log("MatrixGadget::layout()")}}class sa extends T{constructor(a){super(a);this.actionFlags=vp.GAF_SWIPEABLE_UPDOWN|vp.GAF_SCROLLABLE_UPDOWN;this.swipeBeginFunc=function(d){var g=this.viewport,c=g.getScale();this.tempX=(d.ox-g.x-g.ox)/c+g.userX;this.tempY=
(d.oy-g.y-g.oy)/c+g.userY};this.swipeMoveFunc=function(d){const g=(m,r,u)=>Math.min(Math.max(m,r),u);var c=this.viewport,b=c.getScale(),h=0,e=0,f=c.minX,k=Math.max(c.maxX-c.w/b,f),q=c.minY,n=Math.max(c.maxY-c.h/b,q);switch(this.actionFlags&vp.GAF_SWIPEABLE){case vp.GAF_SWIPEABLE_UPDOWN:e=(d.y-c.y-c.oy)/b+c.userY-this.tempY;c.userY=g(g(c.userY-e-c.oy/b,q,n)+c.oy/b,q,n);c.rematrix();this.layout();c.tempVX=0;c.tempVY=d.dy;break;case vp.GAF_SWIPEABLE_LEFTRIGHT:h=(d.x-c.x-c.ox)/b+c.userX-this.tempX;c.userX=
g(g(c.userX-h-c.ox/b,f,k)+c.ox/b,f,k);c.rematrix();this.layout();c.tempVX=d.dx;c.tempVY=0;break;case vp.GAF_SWIPEABLE_UPDOWN|vp.GAF_SWIPEABLE_LEFTRIGHT:h=(d.x-c.x-c.ox)/b+c.userX-this.tempX,e=(d.y-c.y-c.oy)/b+c.userY-this.tempY,c.userX=g(g(c.userX-h-c.ox/b,f,k)+c.ox/b,f,k),c.userY=g(g(c.userY-e-c.oy/b,q,n)+c.oy/b,q,n),c.rematrix(),this.layout(),c.tempVX=d.dx,c.tempVY=d.dy}};this.swipeEndFunc=function(d){function g(f,k){var q=h.getScale(),n=f[0];f=f[1];var m=k[0];k=k[1];var r=Math.sqrt(m*m+k*k),u=
Math.floor(10*r),w=(10*r-u)/10,B=(u+1)*u/2;0<r&&(n-=m/r*(B/10+w*u)*1E3/30/q,f-=k/r*(B/10+w*u)*1E3/30/q);return[n,f]}function c(f,k){var q="unset",n;if(k)for(n of k)if(k=Math.sqrt((f[0]-n[0])**2+(f[1]-n[1])**2),"unset"==q||k<q){q=k;var m=n}return m}function b(f,k){var q=k.getScale(),n=Math.max(k.minX+k.w/q,k.maxX)-k.w/q,m=Math.min(k.maxX-k.w/q,k.minX),r=Math.max(k.minY+k.h/q,k.maxY)-k.h/q,u=Math.min(k.maxY-k.h/q,k.minY);if(m<n){var w=n;n=m;m=w}u<r&&(w=r,r=u,u=w);return f[0]-k.ox/q<n||f[0]-k.ox/q>m||
f[1]-k.oy/q<r||f[1]-k.oy/q>u}var h=this.viewport;delete this.tempX;delete this.tempY;h.tempDX=0;h.tempDY=0;if(h.snaps&&0<h.snaps.length){d=g([h.userX,h.userY],[h.tempVX,h.tempVY]);var e=c(d,h.snaps);b(d,h)||(h.tempDX=e[0]-d[0],h.tempDY=e[1]-d[1])}U.includes(h)||U.push(h);h.setRenderFlag(!0)}}layout(){var a=this.viewport;this.convexHull=this.computeHull([0,a.minY,0,a.maxY,a.w,a.maxY,a.w,a.minY]);this.extendedHulls={};this.boundingBoxes={}}}var E=new ka;var W=-1,ca=0,Z=0,X=0,ia=0,t={};const R=15*window.devicePixelRatio;
return{initialize:function(a,d){x=a;ja=d;l=x.getContext("webgl2",{antialias:!0,alpha:!1,desynchronized:!0,preserveDrawingBuffer:!0});var g=l.viewport.bind(l),c;l.viewport=function(h,e,f,k){c=[h,e,f,k];g(h,e,f,k)};var b=l.getParameter.bind(l);l.getParameter=function(h){return h==l.VIEWPORT&&c?c:b(h)}},start:function(a){async function d(){if(0==h)F=new AudioContext,h=1;else if(1==h){await F.audioWorklet.addModule("data:application/javascript;base64,"+btoa("\n            class AudioProcessor extends AudioWorkletProcessor {\n              constructor() {\n                super();\n                this.lastClick = 0;\n              }\n              process (inputs, outputs, parameters) {\n                const output = outputs[0];\n                output.forEach(channel => {\n                  for (var i = 0; i < channel.length; i++) {\n                    channel[i] =\n                      (Math.random() * 2 - 1)*(0.000+(parameters['windspeed'][0])) +\n                      0.5 * (parameters['click'].length > 1 ? parameters['click'][i] : parameters['click'][0]);\n                  }\n                });\n                return true;\n              }\n              static get parameterDescriptors() {\n                return [\n                  {\n                    name: \"windspeed\",\n                    automationRate: \"a-rate\",\n                    defaultValue: 0,\n                    minValue: 0,\n                    maxValue: 1,\n                  },\n                  {\n                    name: \"click\",\n                    automationRate: \"a-rate\",\n                    defaultValue: 0,\n                    minValue: 0,\n                    maxValue: 1,\n                  },\n                ];\n              }\n            }\n            registerProcessor('audio-processor', AudioProcessor);\n\t\t\t\t"));
var e=F.createBufferSource();F.createScriptProcessor(2048);e.start();h=2}else 2==h&&(e=new AudioWorkletNode(F,"audio-processor"),e.connect(F.destination),G=e.parameters.get("click"),aa=e.parameters.get("windspeed"),h=3,b=!0)}if(l){var g=l.createShader(l.VERTEX_SHADER);l.shaderSource(g,"\n        attribute vec4 aVertexPosition;\n        uniform vec4 uVertexColor;\n        uniform mat4 uModelViewMatrix;\n        uniform mat4 uProjectionMatrix;\n        varying vec4 v_Color;\n        void main() {\n          gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;\n          v_Color = uVertexColor;\n        }\n\t");
l.compileShader(g);if(l.getShaderParameter(g,l.COMPILE_STATUS)){var c=l.createShader(l.FRAGMENT_SHADER);l.shaderSource(c,"\n        varying lowp vec4 v_Color;\n        void main() {\n          gl_FragColor = v_Color;\n        }\n\t");l.compileShader(c);if(l.getShaderParameter(c,l.COMPILE_STATUS)&&(z=l.createProgram(),l.attachShader(z,g),l.attachShader(z,c),l.linkProgram(z),l.getProgramParameter(z,l.LINK_STATUS))){ba=l.createBuffer();l.bindBuffer(l.ARRAY_BUFFER,ba);l.vertexAttribPointer(l.getAttribLocation(z,
"aVertexPosition"),2,l.FLOAT,!1,0,0);l.enableVertexAttribArray(l.getAttribLocation(z,"aVertexPosition"));cum2=[];y.unitLine=cum2.length/2;cum2.splice(cum2.length,0,0,0,1,1);C.unitLine=cum2.length/2-y.unitLine;y.unitSquare=cum2.length/2;cum2.splice(cum2.length,0,1,1,0,1,0,0,1,0);C.unitSquare=cum2.length/2-y.unitSquare;y.roundTouch=cum2.length/2;for(i=0;36>i;i++)cum2.splice(cum2.length,0,85*Math.sin(i/18*Math.PI),85*Math.cos(i/18*Math.PI));C.roundTouch=cum2.length/2-y.roundTouch;y.squareTouch=cum2.length/
2;cum2.splice(cum2.length,0,84.5,84.5,-84.5,84.5,-84.5,-84.5,84.5,-84.5);C.squareTouch=cum2.length/2-y.squareTouch;y.roundMouse=cum2.length/2;for(i=0;36>i;i++)cum2.splice(cum2.length,0,5*Math.sin(i/18*Math.PI),5*Math.cos(i/18*Math.PI));C.roundMouse=cum2.length/2-y.roundMouse;y.squareMouse=cum2.length/2;cum2.splice(cum2.length,0,4.5,4.5,-4.5,4.5,-4.5,-4.5,4.5,-4.5);C.squareMouse=cum2.length/2-y.squareMouse;l.bufferData(l.ARRAY_BUFFER,new Float32Array(cum2),l.STATIC_DRAW);var b=!1,h=0;a&&(E=a);window.addEventListener("resize",
function(e){da()},!1);da();window.requestAnimationFrame(fa);ja.addEventListener("input",function(e){console.log(e)},!1);numpad.addEventListener("input",function(e){console.log(e)},!1);x.addEventListener("touchend",function(e){L(e,"touches")},!1);x.addEventListener("pointerdown",function(e){b||d();e.preventDefault();L(e,"down")},!1);x.addEventListener("pointermove",function(e){e.preventDefault();L(e,"move")},!1);x.addEventListener("pointerup",function(e){b||d();e.preventDefault();L(e,"up")},!1);x.addEventListener("contextmenu",
function(e){e.preventDefault()},!1);x.addEventListener("wheel",function(e){e.preventDefault();L(e,"wheel")},!1)}}}},setDebugFlags:function(a,d){ia=!!a;Z=!!d},getContext:function(){return l},getPointerRadius:N,isMouseEnabled:function(){return ea},View:S,ViewDivider:ma,ViewSlice:na,ViewOverlay:oa,ViewMultiverse:pa,ViewPicker:ka,Gadget:T,MatrixGadget:ra,SwipeGadget:sa,MiddleDividerGadget:qa,GAF_CLICKABLE:1,GAF_HOLDABLE:2,GAF_CONTEXTMENU:4,GAF_STRETCHABLE:8,GAF_DRAGGABLE_UPDOWN:16,GAF_DRAGGABLE_LEFTRIGHT:32,
GAF_DRAGGABLE:48,GAF_SWIPEABLE_UPDOWN:64,GAF_SWIPEABLE_LEFTRIGHT:128,GAF_SWIPEABLE:192,GAF_SCROLLABLE_UPDOWN:256,GAF_SCROLLABLE_LEFTRIGHT:512,GAF_SCROLLABLE:768,GAF_SCALABLE:1024,GAF_ROTATABLE:2048,GAF_PINCHABLE:3072,GAF_ALL:3901,HitList:la,LayoutState:M}}();
function main() {
	const canvas = document.querySelector('#app1');
	vp.initialize(canvas, document.getElementById('kb'));
	const gl = vp.getContext();

	df.glSet(gl);
	defaultFont.init();

	const GENERIC = 0;
	const PARAGUAY = 1;
	const style = Math.round(Math.random() * 1);

	const lcode = style == PARAGUAY? (Math.random() > 0.5?'gn-PY':'es-PY') : 'en-US';

	function toFiat(s) {
		return style == PARAGUAY? s * 2: s / 3600;
	}

	const uiPillOrange = [1, 0.55, 0.1, 1];
	const uiFiatGreen = [112/255, 130/255, 56/255, 1];
	const uiBlack = [0,0,0, 1];
	const uiWhite = [1,1,1, 1];
	const uiDarkWhite = [0.9,0.9,0.9, 1];

	var v, g;
const trs = {};
 function tr(s) {
	if (!(s in trs)) {
		trs[s] = {'source': s};
		switch(s) {
		case 'about @':
			trs[s]['en-US'] = 'about @';
			trs[s]['es-PY'] = 'circa de @';
			trs[s]['gn-PY'] = '@ rupi';
			break;
		case 'bill':
			trs[s]['en-US'] = 'INVOICE';
			trs[s]['es-PY'] = 'FACTURA';
			trs[s]['gn-PY'] = 'ÑEMUMBYREHAI';
			break;
		case 'pay':
			trs[s]['en-US'] = 'PAYMENT';
			trs[s]['es-PY'] = 'PAGO';
			trs[s]['gn-PY'] = 'HEPYME\'Ẽ';
			break;
		}
		if(	!('en-US' in trs[s])
		||	!('es-PY' in trs[s])
		||	!('gn-PY' in trs[s])) {
			console.log("Translation(s) missing for", trs[s]);
		}
	}
	if (lcode in trs[s]) {
		return trs[s][lcode];
	} else {
		//console.log("Translation missing for", trs[s]);
		for(var v in trs[s]) {
			if(!trs[s].hasOwnProperty(v)) continue;
			return trs[s][v];
		}
	}
}
// Shape data storage
const beg2 = {}, len2 = {}, typ2 = {}; var all2 = [], buf2;
const beg5 = {}, len5 = {}, typ5 = {}; var all5 = [], buf5;

// Shape building functions
function addShape2(name, typ, ...points) {
	beg2[name] = all2.length/2; typ2[name] = typ;
	all2.splice (all2.length, 0, ...points);
	len2[name] = all2.length/2 - beg2[name];
}
function addShape5(name, typ, ...points) {
	beg5[name] = all5.length/5; typ5[name] = typ;
	all5.splice (all5.length, 0, ...points);
	len5[name] = all5.length/5 - beg5[name];
}

// Shape definitions
addShape2('unitLine', gl.LINE_LOOP, 0,0, 1,1, );
addShape5('unitLine', gl.LINE_LOOP, 0,0,1,1,0, 1,1,0,1,0, );
addShape5('divLine', gl.LINE_STRIP, 0,0,0,0,0, 0.4,0.4,1,1,1, 0.6,0.6,1,1,1, 1,1,0,0,0, );
addShape5('divLineV', gl.TRIANGLE_STRIP,
	1,0.0,0,0,0, 0,0.0,0,0,0,
	1,0.4,1,1,1, 0,0.4,1,1,1,
	1,0.6,1,1,1, 0,0.6,1,1,1,
	1,1.0,0,0,0, 0,1.0,0,0,0, );
addShape5('divLineH', gl.TRIANGLE_STRIP,
	0.0,1,0,0,0, 0.0,0,0,0,0,
	0.4,1,1,1,1, 0.4,0,1,1,1,
	0.6,1,1,1,1, 0.6,0,1,1,1,
	1.0,1,0,0,0, 1.0,0,0,0,0, );
addShape2('rect', gl.TRIANGLE_STRIP,
	0.0,1, 0.0,0, 1.0,1, 1.0,0, );
addShape5('rect', gl.TRIANGLE_STRIP,
	0.0,1,1,1,1, 0.0,0,1,1,1, 1.0,1,1,1,1, 1.0,0,1,1,1, );
addShape5('scrollUp', gl.TRIANGLE_FAN,
	0.5,0,0.75,0.75,0.75,
	0.0,1,0.25,0.25,0.25,
	0.4,1,1,1,1, 0.6,1,1,1,1,
	1.0,1,0.25,0.25,0.25, );
addShape5('scrollDn', gl.TRIANGLE_FAN,
	0.5,0,0.75,0.75,0.75,
	0.0,1,0.25,0.25,0.25,
	0.4,1,1,1,1, 0.6,1,1,1,1,
	1.0,1,0.25,0.25,0.25, );
var r = 0.2, w = 0.8, b = 0.3;
if (style != PARAGUAY) { r = 1; w = 1; b = 1; }
addShape5('hamburger', gl.TRIANGLES,
	0,0.0,1,r,r, 1,0.0,1,r,r, 0,0.2,1,r,r, 0,0.2,1,r,r, 1,0.0,1,r,r, 1,0.2,1,r,r,
	0,0.4,w,w,w, 1,0.4,w,w,w, 0,0.6,w,w,w, 0,0.6,w,w,w, 1,0.4,w,w,w, 1,0.6,w,w,w,
	0,0.8,b,b,1, 1,0.8,b,b,1, 0,1.0,b,b,1, 0,1.0,b,b,1, 1,0.8,b,b,1, 1,1.0,b,b,1,
);
addShape2('maximizer', gl.TRIANGLES,
	0,1, 0,0.6, 0.4,1,
	1,0, 1,0.4, 0.6,0,
	1,0.1, 0.1,1, 0,0.9,
	0,0.9, 0.9,0, 1,0.1,
);
  // WEBGL INITIALIZATION

  const plainVertexShader = gl.createShader(gl.VERTEX_SHADER);
  gl.shaderSource(plainVertexShader, `
      attribute vec4 aVertexPosition;
      attribute vec2 aTex;
      uniform vec4 overallColor;
      uniform mat4 uModelViewMatrix;
      uniform mat4 uProjectionMatrix;
      varying vec4 vColor;
      varying highp vec2 vTex;

      void main() {
        gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;
        vColor = overallColor;
        vTex = aTex;
      }
  `);
  gl.compileShader(plainVertexShader);
  if (!gl.getShaderParameter(plainVertexShader, gl.COMPILE_STATUS)) return;

  const plainFragmentShader = gl.createShader(gl.FRAGMENT_SHADER);
  gl.shaderSource(plainFragmentShader, `
      varying lowp vec4 vColor;
      uniform sampler2D sampler0;
      varying highp vec2 vTex;

      void main() {
        //gl_FragColor = texture2D(sampler0, vTex);
        gl_FragColor = vColor;
      }
  `);
  gl.compileShader(plainFragmentShader);
  if (!gl.getShaderParameter(plainFragmentShader, gl.COMPILE_STATUS)) return;

  const prog2 = gl.createProgram();
  gl.attachShader(prog2, plainVertexShader);
  gl.attachShader(prog2, plainFragmentShader);
  gl.linkProgram(prog2);
  if (!gl.getProgramParameter(prog2, gl.LINK_STATUS)) return;

  buf2 = gl.createBuffer(); // buffer for 2-value vertices
  gl.bindBuffer(gl.ARRAY_BUFFER, buf2);
  gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(all2), gl.STATIC_DRAW);

  const prog5VertexShader = gl.createShader(gl.VERTEX_SHADER);
  gl.shaderSource(prog5VertexShader, `
      attribute vec4 aVertexPosition;
      attribute vec4 vertexColor;
      attribute vec2 aTex;
      uniform vec4 overallColor;
      uniform mat4 uModelViewMatrix;
      uniform mat4 uProjectionMatrix;
      varying vec4 vColor;
      varying highp vec2 vTex;

      void main() {
        gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;
        vColor = vertexColor * overallColor;
        vTex = aTex;
      }
  `);
  gl.compileShader(prog5VertexShader);
  if (!gl.getShaderParameter(prog5VertexShader, gl.COMPILE_STATUS)) return;

  const prog5FragmentShader = gl.createShader(gl.FRAGMENT_SHADER);
  gl.shaderSource(prog5FragmentShader, `
      varying lowp vec4 vColor;
      uniform sampler2D sampler0;
      varying highp vec2 vTex;

      void main() {
        //gl_FragColor = texture2D(sampler0, vTex);
        gl_FragColor = vColor;
      }
  `);
  gl.compileShader(prog5FragmentShader);
  if (!gl.getShaderParameter(prog5FragmentShader, gl.COMPILE_STATUS)) return;

  const prog5 = gl.createProgram();
  gl.attachShader(prog5, prog5VertexShader);
  gl.attachShader(prog5, prog5FragmentShader);
  gl.linkProgram(prog5);
  if (!gl.getProgramParameter(prog5, gl.LINK_STATUS)) return;

  gl.useProgram(prog5);
  buf5 = gl.createBuffer(); // buffer for 5-value vertices
  gl.bindBuffer(gl.ARRAY_BUFFER, buf5);
  gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(all5), gl.STATIC_DRAW);

	function useProg2() {
		gl.useProgram(prog2);
		gl.bindBuffer(gl.ARRAY_BUFFER, buf2);
		//gl.disableVertexAttribArray(gl.getAttribLocation(prog5, 'aVertexPosition'));
		//gl.disableVertexAttribArray(gl.getAttribLocation(prog5, 'overallColor'));
		var a = gl.getAttribLocation(prog2, 'aVertexPosition')
		gl.vertexAttribPointer(
			a,
			2, // numComponents
			gl.FLOAT, // type
			false, // normalize
			0, // stride
			0); // offset
		gl.enableVertexAttribArray(a);
	}
	function useProg5() {
		gl.useProgram(prog5);
		gl.uniform4fv(gl.getUniformLocation(prog5, 'overallColor'),
			new Float32Array([1,1,1, 1]));
		gl.bindBuffer(gl.ARRAY_BUFFER, buf5);
		//gl.disableVertexAttribArray(gl.getAttribLocation(prog2, 'aVertexPosition'));
		var a = gl.getAttribLocation(prog5, 'aVertexPosition')
		gl.vertexAttribPointer(
			a,
			2, // numComponents
			gl.FLOAT, // type
			false, // normalize
			4 * 5, // stride
			4 * 0); // offset
		gl.enableVertexAttribArray(a);
		a = gl.getAttribLocation(prog5, 'vertexColor')
		gl.vertexAttribPointer(
			a,
			3, // numComponents
			gl.FLOAT, // type
			false, // normalize
			4 * 5, // stride
			4 * 2); // offset
		gl.enableVertexAttribArray(a);
	}

// Helpers
function centerText(x,y,w,h,s,c,m0,m1) {
	var tw = defaultFont.calcWidth(s);
	defaultFont.draw(x+(w-tw)/2,y+14+(h-16)/2,s,c,m0,m1);
}
var fullscreen = (function() {
	var element = document.body;
	element.requestFullscreen =
		element.requestFullscreen ||
		element.requestFullScreen ||
		element.webkitRequestFullScreen ||
		element.mozRequestFullScreen ||
		function() { return false; };
	document.cancelFullScreen =
		document.cancelFullScreen ||
		document.webkitCancelFullScreen ||
		document.mozCancelFullScreen ||
		function() { return false; };
	function active() {
		return document.webkitIsFullScreen || document.mozFullScreen || false;
	}
	function toggle() {
		if (active()) document.cancelFullScreen(); else element.requestFullscreen();
	}
	function enter() {
		if (!active()) element.requestFullscreen();
	}
	function exit() {
		if (active()) document.cancelFullScreen();
	}
	return {
		active: active,
		toggle: toggle,
		enter: enter,
		exit: exit,
	};
})();

var invoicepane;

	var startpane = v = new vp.View(null);
	v.designFit = [400,300];
	v.gadgets.push(v.hamburger = g = new vp.Gadget(v));
		g.w = 30; g.h = 30 * 0.618; g.actionFlags = vp.GAF_CLICKABLE;
		g.x = (50 - g.w)/2; g.y = (50 - g.h)/2;
		g.autoHull();
		g.renderFunc = function() {
			var g = this;
			const mat = mat4.create();
			mat4.identity(mat);
			mat4.translate(mat, mat, [g.x, g.y, 0]);
			mat4.scale(mat, mat, [g.w, g.h, 0]);
			useProg5();
			gl.uniformMatrix4fv(gl.getUniformLocation(prog5, 'uModelViewMatrix'), false, mat);
			gl.drawArrays(typ5.hamburger, beg5.hamburger, len5.hamburger);
		}
	v.gadgets.push(v.maximizer = g = new vp.Gadget(v));
		g.w = 30; g.h = 30; g.actionFlags = vp.GAF_CLICKABLE;
		g.x = (50 - g.w)/2; g.y = (50 - g.h)/2;
		g.autoHull();
		g.layoutFunc = function() {
			var g = this, v = g.viewport, s = v.getScale();
			g.x = v.w/s - g.w - (50 - g.w)/2;
		}
		g.renderFunc = function() {
			var g = this;
			const mat = mat4.create();
			mat4.identity(mat);
			mat4.translate(mat, mat, [g.x, g.y, 0]);
			mat4.scale(mat, mat, [g.w, g.h, 0]);
			useProg2();
			gl.uniformMatrix4fv(gl.getUniformLocation(prog2, 'uProjectionMatrix'), false, g.viewport.mat);
			gl.uniform4fv(gl.getUniformLocation(prog2, 'overallColor'),
				new Float32Array(uiWhite));
			gl.uniformMatrix4fv(gl.getUniformLocation(prog2, 'uModelViewMatrix'), false, mat);
			gl.drawArrays(typ2.maximizer, beg2.maximizer, len2.maximizer);
		}
		g.clickFunc = function() {
			fullscreen.toggle();
		}
	v.gadgets.push(v.invoice = g = new vp.Gadget(v));
		g.w = 250; g.h = 50; g.actionFlags = vp.GAF_CLICKABLE;
		g.text = tr('bill');
		g.layoutFunc = function() {
			var g = this, v = g.viewport, s = v.getScale();
			g.W = v.w/s; g.x = (g.W - g.w) / 2;
			g.H = v.h/s; g.y = (g.H - g.h) / 2 - 50;
			g.autoHull();
		}
		g.renderFunc = function() {
			var g = this;
			var sel = ['begin-click','recover-click','begin-tap'].includes(g.gestureState);
			const mat = mat4.create();
			mat4.identity(mat);
			mat4.translate(mat, mat, [g.x, g.y, 0]);
			mat4.scale(mat, mat, [g.w, g.h, 1]);
			useProg5();
			gl.uniformMatrix4fv(gl.getUniformLocation(prog5, 'uModelViewMatrix'), false, mat);
			gl.uniform4fv(gl.getUniformLocation(prog5, 'overallColor'),
				new Float32Array(sel?uiWhite:uiPillOrange));
			gl.drawArrays(typ5.rect, beg5.rect, len5.rect);
			mat4.identity(mat);
			mat4.translate(mat, mat, [g.x, g.y, 0]);
			mat4.scale(mat, mat, [50/32, 50/32, 1]);
			centerText(8,7, 5*32-16,32-14, g.text, uiBlack, g.viewport.mat, mat);
		}
		g.clickFunc = function() {
			transitionTo(invoicepane);
		}
	v.gadgets.push(v.payment = g = new vp.Gadget(v));
		g.w = 250; g.h = 50; g.actionFlags = vp.GAF_CLICKABLE;
		g.text = tr('pay');
		g.layoutFunc = function() {
			var g = this, v = g.viewport, s = v.getScale();
			g.W = v.w/s; g.x = (g.W - g.w) / 2;
			g.H = v.h/s; g.y = (g.H - g.h) / 2 + 50;
			g.autoHull();
		}
		g.renderFunc = v.invoice.renderFunc;
		g.clickFunc = function() {
			transitionTo(invoicepane);
		}
	v.minX = 0; v.maxX = 100;
	v.minY = 0; v.maxY = 1000;
	v.layoutFunc = function() {
//		this.swipeGad.layout.call(this.swipeGad);
		for (const g of this.gadgets) {
			if (g.layoutFunc) g.layoutFunc.call(g);
		}
	}
	var scrollbar;
	v.renderFunc = function() {
		var g = scrollbar.knobGad, s = this.getScale();
		g.shown = this.h/this.getScale();
    g.total = this.maxY;
    g.start = this.userY;
		g.viewport.relayout();
		//g.viewport.setRenderFlag(true);
		gl.clearColor(0,0,0, 1);
		gl.clear(gl.COLOR_BUFFER_BIT);
		useProg5();
		gl.enable(gl.BLEND);
		gl.uniform4fv(gl.getUniformLocation(prog5, 'overallColor'),
			new Float32Array([1,1,1,1]));
		gl.uniformMatrix4fv(gl.getUniformLocation(prog5, 'uProjectionMatrix'), false, this.mat);
		for (const g of this.gadgets) {
			if (g.renderFunc) g.renderFunc.call(g);
		}
/*
		var tmpw;
    var m = mat4.create();

		bal = Math.round(Math.random() * (10 ** (Math.random() * 10)));
		balstr = lcode != 'en-US' || bal > 9999? bal.toLocaleString(lcode) : bal.toString();
		balw = defaultFont.calcWidth(balstr) + defaultFont.calcWidth(' sats')/2;
		tmpw = Math.max(128, balw + 10);

		mat4.identity(m);
		mat4.scale(m, m, [400/tmpw, 400/tmpw, 1]);
		mat4.translate(m, m, [(tmpw/400*this.w/s-balw)*0.51, (tmpw/400*this.h/s-20)*0.49, 0]);
		defaultFont.draw(0,0, balstr, uiPillOrange, this.mat, m);
		mat4.scale(m, m, [0.5, 0.5, 1]);
		defaultFont.draw(0,0, ' sats', uiPillOrange, this.mat, m);

		bal = toFiat(bal);
		if (style == PARAGUAY) {
			balstr = bal.toLocaleString(lcode);
			balstr = tr('about @').replace('@', 'Gs ' + balstr);
		} else {
			if (bal > 9999)
				balstr = bal.toLocaleString(lcode, {
					minimumFractionDigits: 2,
					maximumFractionDigits: 2,
				});
			else
				balstr = bal.toFixed(2);
			balstr = tr('about @').replace('@', '$' + balstr);
		}
		balw = defaultFont.calcWidth(balstr)/2;
		tmpw = Math.max(128, balw + 10);

		mat4.identity(m);
		mat4.scale(m, m, [400/tmpw, 400/tmpw, 1]);
		mat4.translate(m, m, [(tmpw/400*this.w/s-balw)*0.51, (tmpw/400*this.h/s-20)*0.49+10, 0]);
		mat4.scale(m, m, [0.5, 0.5, 1]);
		defaultFont.draw(0,0, balstr, uiFiatGreen, this.mat, m);
*/
	};
//	v.gadgets.push(v.swipeGad = new vp.SwipeGadget(v));
//	v.swipeGad.actionFlags = vp.GAF_SWIPEABLE_UPDOWN | vp.GAF_SCROLLABLE_UPDOWN;

	var invoicepane = v = new vp.View(null);
	v.designFit = [400,300];
	v.gadgets.push(v.hamburger = g = new vp.Gadget(v));
		g.w = 30; g.h = 30 * 0.618; g.actionFlags = vp.GAF_CLICKABLE;
		g.x = (50 - g.w)/2; g.y = (50 - g.h)/2;
		g.autoHull();
		g.renderFunc = function() {
			var g = this;
			const mat = mat4.create();
			mat4.identity(mat);
			mat4.translate(mat, mat, [g.x, g.y, 0]);
			mat4.scale(mat, mat, [g.w, g.h, 0]);
			useProg5();
			gl.uniformMatrix4fv(gl.getUniformLocation(prog5, 'uModelViewMatrix'), false, mat);
			gl.drawArrays(typ5.hamburger, beg5.hamburger, len5.hamburger);
		}
		g.clickFunc = function() {
			transitionTo(startpane, false);
		}
	v.gadgets.push(v.maximizer = g = new vp.Gadget(v));
		g.w = 30; g.h = 30; g.actionFlags = vp.GAF_CLICKABLE;
		g.x = (50 - g.w)/2; g.y = (50 - g.h)/2;
		g.autoHull();
		g.layoutFunc = function() {
			var g = this, v = g.viewport, s = v.getScale();
			g.x = v.w/s - g.w - (50 - g.w)/2;
		}
		g.renderFunc = function() {
			var g = this;
			const mat = mat4.create();
			mat4.identity(mat);
			mat4.translate(mat, mat, [g.x, g.y, 0]);
			mat4.scale(mat, mat, [g.w, g.h, 0]);
			useProg2();
			gl.uniformMatrix4fv(gl.getUniformLocation(prog2, 'uProjectionMatrix'), false, g.viewport.mat);
			gl.uniform4fv(gl.getUniformLocation(prog2, 'overallColor'),
				new Float32Array(uiWhite));
			gl.uniformMatrix4fv(gl.getUniformLocation(prog2, 'uModelViewMatrix'), false, mat);
			gl.drawArrays(typ2.maximizer, beg2.maximizer, len2.maximizer);
		}
		g.clickFunc = function() {
			fullscreen.toggle();
		}
	v.gadgets.push(v.invoice = g = new vp.Gadget(v));
		g.w = 250; g.h = 50; g.actionFlags = vp.GAF_CLICKABLE;
		g.text = tr('bill');
		g.layoutFunc = function() {
			var g = this, v = g.viewport, s = v.getScale();
			g.W = v.w/s; g.x = (g.W - g.w) / 2;
			g.H = v.h/s; g.y = (g.H - g.h) / 2 - 50;
			g.autoHull();
		}
		g.renderFunc = function() {
			var g = this;
			var sel = ['begin-click','recover-click','begin-tap'].includes(g.gestureState);
			const mat = mat4.create();
			mat4.identity(mat);
			mat4.translate(mat, mat, [g.x, g.y, 0]);
			mat4.scale(mat, mat, [g.w, g.h, 1]);
			useProg5();
			gl.uniformMatrix4fv(gl.getUniformLocation(prog5, 'uModelViewMatrix'), false, mat);
			gl.uniform4fv(gl.getUniformLocation(prog5, 'overallColor'),
				new Float32Array(sel?uiWhite:uiPillOrange));
			gl.drawArrays(typ5.rect, beg5.rect, len5.rect);
			mat4.identity(mat);
			mat4.translate(mat, mat, [g.x, g.y, 0]);
			mat4.scale(mat, mat, [50/32, 50/32, 1]);
			centerText(8,7, 5*32-16,32-14, g.text, uiBlack, g.viewport.mat, mat);
		}
		g.clickFunc = function() {
document.getElementById('numpad').focus();
//window.prompt("sometext","defaultText");
//			transitionTo(startpane);
		}
	v.gadgets.push(v.payment = g = new vp.Gadget(v));
		g.w = 250; g.h = 50; g.actionFlags = vp.GAF_CLICKABLE;
		g.text = tr('pay');
		g.layoutFunc = function() {
			var g = this, v = g.viewport, s = v.getScale();
			g.W = v.w/s; g.x = (g.W - g.w) / 2;
			g.H = v.h/s; g.y = (g.H - g.h) / 2 + 50;
			g.autoHull();
		}
		g.renderFunc = v.invoice.renderFunc;
		g.clickFunc = function() {
document.getElementById('kb').focus();
//			transitionTo(startpane);
		}
	v.minX = 0; v.maxX = 100;
	v.minY = 0; v.maxY = 1000;
	v.layoutFunc = function() {
//		this.swipeGad.layout.call(this.swipeGad);
		for (const g of this.gadgets) {
			if (g.layoutFunc) g.layoutFunc.call(g);
		}
	}
	var scrollbar;
	v.renderFunc = function() {
		var g = scrollbar.knobGad, s = this.getScale();
		g.shown = this.h/this.getScale();
    g.total = this.maxY;
    g.start = this.userY;
		g.viewport.relayout();
		//g.viewport.setRenderFlag(true);
		gl.clearColor(0,0,0, 1);
		gl.clear(gl.COLOR_BUFFER_BIT);
		useProg5();
		gl.enable(gl.BLEND);
		gl.uniform4fv(gl.getUniformLocation(prog5, 'overallColor'),
			new Float32Array([1,1,1,1]));
		gl.uniformMatrix4fv(gl.getUniformLocation(prog5, 'uProjectionMatrix'), false, this.mat);
		for (const g of this.gadgets) {
			if (g.renderFunc) g.renderFunc.call(g);
		}
/*
		var tmpw;
    var m = mat4.create();

		bal = Math.round(Math.random() * (10 ** (Math.random() * 10)));
		balstr = lcode != 'en-US' || bal > 9999? bal.toLocaleString(lcode) : bal.toString();
		balw = defaultFont.calcWidth(balstr) + defaultFont.calcWidth(' sats')/2;
		tmpw = Math.max(128, balw + 10);

		mat4.identity(m);
		mat4.scale(m, m, [400/tmpw, 400/tmpw, 1]);
		mat4.translate(m, m, [(tmpw/400*this.w/s-balw)*0.51, (tmpw/400*this.h/s-20)*0.49, 0]);
		defaultFont.draw(0,0, balstr, uiPillOrange, this.mat, m);
		mat4.scale(m, m, [0.5, 0.5, 1]);
		defaultFont.draw(0,0, ' sats', uiPillOrange, this.mat, m);

		bal = toFiat(bal);
		if (style == PARAGUAY) {
			balstr = bal.toLocaleString(lcode);
			balstr = tr('about @').replace('@', 'Gs ' + balstr);
		} else {
			if (bal > 9999)
				balstr = bal.toLocaleString(lcode, {
					minimumFractionDigits: 2,
					maximumFractionDigits: 2,
				});
			else
				balstr = bal.toFixed(2);
			balstr = tr('about @').replace('@', '$' + balstr);
		}
		balw = defaultFont.calcWidth(balstr)/2;
		tmpw = Math.max(128, balw + 10);

		mat4.identity(m);
		mat4.scale(m, m, [400/tmpw, 400/tmpw, 1]);
		mat4.translate(m, m, [(tmpw/400*this.w/s-balw)*0.51, (tmpw/400*this.h/s-20)*0.49+10, 0]);
		mat4.scale(m, m, [0.5, 0.5, 1]);
		defaultFont.draw(0,0, balstr, uiFiatGreen, this.mat, m);
*/
	};
//	v.gadgets.push(v.swipeGad = new vp.SwipeGadget(v));
//	v.swipeGad.actionFlags = vp.GAF_SWIPEABLE_UPDOWN | vp.GAF_SCROLLABLE_UPDOWN;
  var menupane = v = new vp.View(null);
  v.gadgets.push(g = new vp.MatrixGadget(v));
  //g.w = 10; g.h = 1000; //g.f = GF_RELH;
	g.y = 100;
  g.convexHull = g.computeHull([50,50, 100,200, 200,200, 200,100]);
  g.actionFlags = vp.GAF_CLICKABLE;// | vp.GAF_DRAGGABLE | vp.GAF_PINCHABLE;
  g.clickFunc = function() {
    var g = this; g.f = !(g.f); vp.setDebugFlags(g.f, g.f);
    var v = g.viewport; while (v.parent) v = v.parent; v.setRenderFlag(true);
  }
  var quadrant4;
  v.gadgets.push(g = new vp.MatrixGadget(v));
  //g.w = 10; g.h = 1000; //g.f = GF_RELH;
  g.convexHull = g.computeHull([50,50, 100,200, 200,200, 200,100]);
  g.actionFlags = vp.GAF_CLICKABLE | vp.GAF_DRAGGABLE | vp.GAF_PINCHABLE;
  var mg1, mg2;
  g.clickFunc = function() {
    mat4.identity(mg1.targetView.userMat);
    mat4.identity(mg2.targetGad.mat);
    quadrant4.rematrix();
    quadrant4.setRenderFlag(true);
    quadrant4.renderAll();
    //console.log('click', this);
  }
  v.renderFunc = function() {
    gl.clearColor(0.380, 0.588, 0.259, 1);
    gl.clear(gl.COLOR_BUFFER_BIT);
    useProg2();
    gl.enable(gl.BLEND);
    gl.uniform4fv(gl.getUniformLocation(prog2, 'overallColor'), new Float32Array([0,0,0, 1]));
    gl.uniformMatrix4fv(gl.getUniformLocation(prog2, 'uProjectionMatrix'), false, this.mat);
    const mat = mat4.create();
    for (const g of this.gadgets) {
      var h = g.convexHull;
      for (p = 0; p < h.length; p += 2) {
      mat4.identity(mat);
      mat4.translate(mat, mat, [h[p+0]+g.x, h[p+1]+g.y, 0]);
      mat4.scale(mat, mat, [h[(p+2)%h.length]-h[p+0], h[(p+3)%h.length]-h[p+1], 0]);
      gl.uniformMatrix4fv(
        gl.getUniformLocation(prog2, 'uModelViewMatrix'),
        false, mat);
      gl.drawArrays(typ2.unitLine, beg2.unitLine, len2.unitLine);
      }
    }
  };

  //v.gadgets.push(v.swipeGad = new vp.SwipeGadget(v));
  //v.swipeGad.actionFlags = vp.GAF_SWIPEABLE_UPDOWN | vp.GAF_SWIPEABLE_LEFTRIGHT;
  //v.layoutFunc = function() { this.swipeGad.layout(); }

  var quadrant3 = v = new vp.View(null);
  v.gadgets.push(g = new vp.MatrixGadget(v));
  //g.w = 10; g.h = 1000; //g.f = GF_RELH;
  g.convexHull = g.computeHull([50,50, 100,200, 200,200, 200,100]);
  g.actionFlags = vp.GAF_CLICKABLE | vp.GAF_CONTEXTMENU | vp.GAF_DRAGGABLE | vp.GAF_PINCHABLE;
  g.clickFunc = function() {
    //console.log('click', this);
  }
  v.renderFunc = function() {
    gl.clearColor(0.882, 0.647, 0.353, 1);
    gl.clear(gl.COLOR_BUFFER_BIT);
    useProg2();
    gl.uniform4fv(gl.getUniformLocation(prog2, 'overallColor'), new Float32Array([0,0,0, 1]));
    gl.uniformMatrix4fv(gl.getUniformLocation(prog2, 'uProjectionMatrix'), false, this.mat);
    const mat = mat4.create();
    for (const g of this.gadgets) {
      var h = g.convexHull;
      for (p = 0; p < h.length; p += 2) {
      mat4.identity(mat);
      mat4.translate(mat, mat, [h[p+0], h[p+1], 0]);
      mat4.scale(mat, mat, [h[(p+2)%h.length]-h[p+0], h[(p+3)%h.length]-h[p+1], 0]);
      gl.uniformMatrix4fv(
        gl.getUniformLocation(prog2, 'uModelViewMatrix'),
        false, mat);
      gl.drawArrays(typ2.unitLine, beg2.unitLine, len2.unitLine);
      }
    }
  };

  quadrant4 = v = new vp.View(null);
  v.gadgets.push(mg1 = g = new vp.MatrixGadget(v));
  g.convexHull = g.computeHull([50,50, 100,200, 200,200, 200,100]);
  g.actionFlags = vp.GAF_CLICKABLE | vp.GAF_DRAGGABLE | vp.GAF_PINCHABLE;
  g.clickFunc = function() {
    //console.log('click', this);
  }
  v.gadgets.push(mg2 = g = new vp.MatrixGadget(v));
  g.convexHull = g.computeHull([150,50, 200,200, 300,200, 300,100]);
  g.actionFlags = vp.GAF_CLICKABLE | vp.GAF_DRAGGABLE | vp.GAF_PINCHABLE;
  g.targetGad = g;
  g.clickFunc = function() {
    //console.log('click', this);
  }
  v.renderFunc = function() {
    gl.clearColor(0.416, 0.533, 0.573, 1);
    gl.clear(gl.COLOR_BUFFER_BIT);
    useProg2();
    gl.enable(gl.BLEND);
    gl.uniform4fv(gl.getUniformLocation(prog2, 'overallColor'), new Float32Array([0,0,0, 1]));
    gl.uniformMatrix4fv(gl.getUniformLocation(prog2, 'uProjectionMatrix'), false, this.mat);
    const mat = mat4.create();
    for (const g of this.gadgets) {
      var h = g.convexHull;
      for (p = 0; p < h.length; p += 2) {
        mat4.identity(mat);
        mat4.multiply(mat, mat, g.mat);
        mat4.translate(mat, mat, [h[p+0], h[p+1], 0]);
        mat4.scale(mat, mat, [h[(p+2)%h.length]-h[p+0], h[(p+3)%h.length]-h[p+1], 0]);
        gl.uniformMatrix4fv(
          gl.getUniformLocation(prog2, 'uModelViewMatrix'),
          false, mat);
        gl.drawArrays(typ2.unitLine, beg2.unitLine, len2.unitLine);
      }
    }
  };

function scrollUpDn(g, amt) {
	var wi2px = window.visualViewport.scale * window.devicePixelRatio;
	var px2wi = 1/wi2px;
	p = { gestureState: '', touching: false, px: 0, py: 0 }; p.e = {};
	p.x = 0 * wi2px; p.ox = p.x; p.px = p.x;
	p.y = 0 * wi2px; p.oy = p.y; p.py = p.y;
	if (g.swipeBeginFunc) g.swipeBeginFunc.call(g, p);
	p.dx = 0; p.x = p.x;
	p.dy = amt /* * window.devicePixelRatio*/; p.y = p.y + p.dy;
	if (g.swipeMoveFunc) g.swipeMoveFunc.call(g, p);
	if (g.swipeEndFunc) g.swipeEndFunc.call(g, p);
}

	var scrollbar = v = new vp.View();
	v.gadgets.push(g = v.upGad = new vp.Gadget(v)); g.z = 2;
  g.clickFunc = function() { scrollUpDn(startpane.swipeGad, 0.885); }
  //g.holdBeginFunc = function () { console.log('hold-begin'); }
  //g.holdEndFunc = function () { console.log('hold-end'); }
	v.gadgets.push(g = v.dnGad = new vp.Gadget(v)); g.z = 2;
  g.clickFunc = function() { scrollUpDn(startpane.swipeGad, -0.885); }
  //g.holdBeginFunc = function () { console.log('hold-begin'); }
  //g.holdEndFunc = function () { console.log('hold-end'); }
	v.gadgets.push(g = v.knobGad = new vp.Gadget(v)); g.z = -1;
  g.shown = 40; g.total = 100; g.start = 10;
	v.gadgets.push(g = v.pupGad = new vp.Gadget(v)); g.z = -2;
  g.clickFunc = function() { scrollUpDn(startpane.swipeGad, 1.7); }
	v.gadgets.push(g = v.pdnGad = new vp.Gadget(v)); g.z = -2;
  g.clickFunc = function() { scrollUpDn(startpane.swipeGad, -1.7); }
	v.layoutFunc = function() {
		const clamp = (num, min, max) => Math.min(Math.max(num, min), max);
		var g, v = this, s = v.getScale();
		g = v.upGad; g.actionFlags = (vp.GAF_CLICKABLE | vp.GAF_HOLDABLE);
		g.convexHull = g.computeHull([0,10, 5,0, 10,10]);
		g.extendedHulls = {}; g.boundingBoxes = {};

		g = v.dnGad; g.actionFlags = (vp.GAF_CLICKABLE | vp.GAF_HOLDABLE);
		g.convexHull = g.computeHull([0,0, 5,10, 10,0]); g.y = v.h/s - 10;
		g.extendedHulls = {}; g.boundingBoxes = {};

		g = v.knobGad; g.actionFlags = vp.GAF_DRAGGABLE_UPDOWN;
    var h = (v.h/s-20  )*clamp(g.shown/g.total, 0,1);
		var y = (v.h/s-20-h)*clamp(g.start/(g.total-g.shown), 0,1);
		g.convexHull = g.computeHull([0,y, 10,y, 10,y+h, 0,y+h]); g.y = 10;
		g.extendedHulls = {}; g.boundingBoxes = {};

		g = v.pupGad; g.actionFlags = vp.GAF_CLICKABLE;
		g.convexHull = g.computeHull([0,0, 10,0, 10,y, 0,y]); g.y = 10;
		g.extendedHulls = {}; g.boundingBoxes = {};

		g = v.pdnGad; g.actionFlags = vp.GAF_CLICKABLE;
		g.convexHull = g.computeHull([0,y+h, 10,y+h, 10,v.h/s-20, 0,v.h/s-20]); g.y = 10;
		g.extendedHulls = {}; g.boundingBoxes = {};
	}
	v.renderFunc = function() {
		var s = this.getScale();
		var sel;
		gl.clearColor(0,0,0, 1);
		gl.clear(gl.COLOR_BUFFER_BIT);
		useProg5();
		gl.enable(gl.BLEND);
		gl.uniformMatrix4fv(gl.getUniformLocation(prog5, 'uProjectionMatrix'), false, this.mat);
		const mat = mat4.create();
    var selColor = [1,0.1,0.1, 1];
		var white = [1,1,1, 1]

		// Up button.
		if (this.upGad.gestureState && this.upGad.gestureState == 'hold')
			scrollUpDn(startpane.swipeGad, 0.5);
		sel = this.upGad.gestureState
			&& ['begin-click','recover-click','hold'].includes(this.upGad.gestureState);
		gl.uniform4fv(gl.getUniformLocation(prog5, 'overallColor'),
			new Float32Array(sel?selColor:white));
		mat4.identity(mat);
		mat4.scale(mat, mat, [10, 10, 0]);
		gl.uniformMatrix4fv(gl.getUniformLocation(prog5, 'uModelViewMatrix'), false, mat);
		gl.drawArrays(typ5.scrollUp, beg5.scrollUp, len5.scrollUp);

		// Down button.
		if (this.dnGad.gestureState && this.dnGad.gestureState == 'hold')
			scrollUpDn(startpane.swipeGad, -0.5);
		sel = this.dnGad.gestureState
			&& ['begin-click','recover-click','hold'].includes(this.dnGad.gestureState);
		gl.uniform4fv(gl.getUniformLocation(prog5, 'overallColor'),
			new Float32Array(sel?selColor:white));
		mat4.identity(mat);
		mat4.translate(mat, mat, [0, this.h/s, 0]);
		mat4.scale(mat, mat, [10, -10, 0]);
		gl.uniformMatrix4fv(gl.getUniformLocation(prog5, 'uModelViewMatrix'), false, mat);
		gl.drawArrays(typ5.scrollDn, beg5.scrollDn, len5.scrollDn);

		// Scroll bar knob.
		gl.uniform4fv(gl.getUniformLocation(prog5, 'overallColor'),
			new Float32Array([.1,.1,.1,1]));
		mat4.identity(mat);
		mat4.translate(mat, mat, [4, 10, 0]);
		mat4.scale(mat, mat, [2, this.h/s-20, 0]);
		gl.uniformMatrix4fv(gl.getUniformLocation(prog5, 'uModelViewMatrix'), false, mat);
		gl.drawArrays(typ5.rect, beg5.rect, len5.rect);
		sel = this.knobGad.gestureState
			&& (this.knobGad.gestureState=='drag'
				||this.knobGad.gestureState=='drag');
		gl.uniform4fv(gl.getUniformLocation(prog5, 'overallColor'),
			new Float32Array(sel?selColor:white));
		mat4.identity(mat);
		mat4.translate(mat, mat, [3, 10+this.knobGad.convexHull[1], 0]);
		mat4.scale(mat, mat, [4, this.knobGad.convexHull[5]-this.knobGad.convexHull[1], 0]);
		gl.uniformMatrix4fv(gl.getUniformLocation(prog5, 'uModelViewMatrix'), false, mat);
		gl.drawArrays(typ5.divLineH, beg5.divLineH, len5.divLineH);
	};

  var walletpane = v = new vp.ViewSlice(null, 'r', 10);
	v.designFit = [400,400];
  v.a = scrollbar; scrollbar.parent = v;
  v.b = startpane; startpane.parent = v;

  var div3and4 = v = new vp.View();
  v.gadgets.push(g = v.middleDividerGad = new vp.MiddleDividerGadget(v)); g.z = 1;
  v.layoutFunc = function() { this.middleDividerGad.layout(); }

  var quadrants3and4 = v = new vp.ViewDivider(null, 'a', 0.5, 0);
  v.a = quadrant3; quadrant3.parent = v;
  v.b = quadrant4; quadrant4.parent = v;
  v.c = div3and4; div3and4.parent = v;

	var maindivider = v = new vp.View();
	v.designScale = 1;
	v.gadgets.push(g = v.middleDividerGad = new vp.MiddleDividerGadget(v)); g.z = 1;
	v.layoutFunc = function() { this.middleDividerGad.layout(); }
	v.renderFunc = function() {
		gl.clearColor(0,0,0, 1);
		gl.clear(gl.COLOR_BUFFER_BIT);
		useProg5();
		gl.enable(gl.BLEND);
		const mat = mat4.create();
		mat4.identity(mat);
		gl.uniformMatrix4fv(gl.getUniformLocation(prog5, 'uProjectionMatrix'), false, this.mat);
		mat4.scale(mat, mat, [this.w, this.h, 0]);
		gl.uniformMatrix4fv(gl.getUniformLocation(prog5, 'uModelViewMatrix'), false, mat);
		//gl.drawArrays(typ5.divLine, beg5.divLine, len5.divLine);
		if (this.parent.state == 'v') {
			gl.drawArrays(typ5.divLineV, beg5.divLineV, len5.divLineV);
		} else {
			gl.drawArrays(typ5.divLineH, beg5.divLineH, len5.divLineH);
		}
	};

	var menudivider = v = new vp.View();
	v.designScale = 1;
	v.gadgets.push(g = v.middleDividerGad = new vp.MiddleDividerGadget(v)); g.z = 1;
	v.layoutFunc = function() { this.middleDividerGad.layout(); }

  var div = v = new vp.ViewDivider(null, 'a', 0.5, 1);
  div.designSize = 640*400;
  v.a = walletpane; walletpane.parent = v;
  v.b = quadrants3and4; quadrants3and4.parent = v;
  v.c = maindivider; maindivider.parent = v;
	transitionTo = function(view, fullscreen = true) {
		v = allblack;
		v.fullscreen = fullscreen;
		v.root = menudiv;
		v.state = 'begin';
		v.root.b = v; v.parent = v.root;
		v.target = view;
		v.setRenderFlag(true);
	};

	var allblack = v = new vp.View(null);
	v.renderFunc = function() {
		switch (this.state) {
		case 'begin':
			gl.clearColor(0,0,0, 1);
			gl.clear(gl.COLOR_BUFFER_BIT);
			this.counter = 0; this.state = 't1';
			break;
		case 't1':
			this.counter = this.counter + 1;
			if (this.counter >= 1) this.state = 'go fullscreen';
			break;
		case 'go fullscreen':
			if (this.fullscreen) fullscreen.enter();
			this.counter = 0; this.state = 't2';
			break;
		case 't2':
			this.counter = this.counter + 1;
			if (this.counter >= 5) this.state = 'switch view';
			break;
		case 'switch view':
			this.root.b = this.target; this.target.parent = this.root
			this.root.relayout();
			this.state = 'done';
			break;
		default:
			return;
		}
		this.root.setRenderFlag(true);
	};
  var menudiv = v = new vp.ViewDivider(null, 'h', 0, 0);
  div.designSize = 640*400;
  v.a = menupane; menupane.parent = v;
  v.b = startpane; startpane.parent = v;
  v.c = menudivider; menudivider.parent = v;
  vp.start(menudiv);
}
var loadPending = true;
function loadCheck() {
  if ( loadPending
    && defaultFont.isReady()
  ) { loadPending = false; main(); }
}

window.onload = function () {
  defaultFont = new df.GlyphSet();
  defaultFont.loadFromURL(
    "data:application/octet-stream;base64,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",
    loadCheck,
    "defaultFont",
  );

}
--></script>
<meta name="theme-color" content="#000000" />
</head>
<body style="text-align: center; touch-action: none; overflow: hidden; margin: 0; padding: 0;">
  <canvas id="app1"></canvas>
  <input id="numpad" type="number" style="position:fixed;left:-2000px;">
  <input id="kb" type="text" style="position:fixed;left:-2000px; display: none;">
  <input type="file" id="fileinput" multiple accept="image/*" style="display: none;">
</body>
</html>
